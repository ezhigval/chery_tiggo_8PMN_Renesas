# ПРАВИЛА ПРОЕКТА

> **Важно:** Эти правила обязательны для соблюдения всеми участниками проекта, включая AI-агентов и разработчиков.

## 1. ПРАВИЛА РАЗМЕЩЕНИЯ ФАЙЛОВ

### 1.1. Файлы знаний (документация)

- **Расположение:** Все файлы знаний (обычно `.md` файлы) хранятся **ТОЛЬКО** в папке `Knowledge_base/`
- **Обязательно:** При добавлении, удалении или изменении файлов в `Knowledge_base/` необходимо:
  - Корректировать оглавления (если они есть)
  - Обновлять соответствующие `README.md` файлы
  - Обновлять файл `Knowledge_base/СТРУКТУРА.md` при изменении структуры

### 1.2. APK файлы

- **Расположение:** Все APK файлы хранятся **ТОЛЬКО** в папке `APK_library/`
- **Важно:** При размещении APK файлов необходимо соблюдать существующую логику организации:
  - `01_Системные_приложения_Chery/` - системные приложения
  - `02_Сторонние_приложения/` - сторонние приложения
  - `04_Из_обновления/` - файлы из обновлений
  - `05_Временные/` - временные APK файлы
- **Обязательно:** При добавлении новых APK файлов обновлять `APK_library/README.md`

### 1.3. Код разработки

- **Расположение:** Весь код разработки хранится в папке конкретного приложения/проекта
- **Примеры:**
  - `Development/emulator/` - код эмулятора
  - `Development/native_navigator/` - код нативного навигатора
  - `Development/ЯндексДог/` - код приложения ЯндексДог
  - `Development/tiggo_launcher/` - код лаунчера

### 1.4. Скрипты от AI

- **Расположение:** Все скрипты, созданные AI-агентами, хранятся в папке `ai_scripts/`
- **Примечание:** Если папка не существует, её необходимо создать

### 1.5. Временные файлы

- **Расположение:** Все временные файлы размещаются в папке `tmp/`
- **Важно:** Временные файлы должны периодически очищаться
- **Примечание:** Если папка не существует, её необходимо создать

### 1.6. Утилиты, плагины и прочее

- **Расположение:** Все утилиты, плагины и прочее "попутно скачанное и установленное" хранятся в папке `утилиты/`
- **Примечание:** Если папка не существует, её необходимо создать

## 2. РАБОТА С README

- **Обязательно:** Всегда использовать README файлы грамотно
- **Требования:**
  - Каждая значимая папка должна иметь свой `README.md`
  - README должен содержать описание содержимого папки
  - При изменении структуры папки обновлять соответствующий README
  - README должен быть актуальным и информативным

## 3. РАБОТА С .gitignore

- **Обязательно:** Использовать `.gitignore` для защиты конфиденциальных данных
- **Что должно быть в .gitignore:**
  - Персональные данные
  - API ключи и токены
  - Пароли и учетные данные
  - Временные файлы (если не нужны в репозитории)
  - Скомпилированные файлы и артефакты сборки (если не нужны)
- **Примеры файлов для игнорирования:**
  - `*_api_key.txt`
  - `*.key`
  - `*.token`
  - `config/personal_*.json`
  - `tmp/`
  - `.env` файлы с секретами

## 4. РАБОТА С GIT И GITHUB

### 4.1. Подключение к репозиторию

- **Remote:** `https://github.com/ezhigval/chery_tiggo_8PMN_Renesas.git`
- **Важно:** НЕ выполнять автоматический push в origin без явного указания пользователя

### 4.2. Структура веток

#### 4.2.1. Основная ветка
- `main` - основная ветка проекта

#### 4.2.2. Ветки проектов
Для каждого проекта создана отдельная ветка:
- `project/emulator` - проект эмулятора
- `project/native_navigator` - проект нативного навигатора
- `project/tiggo_launcher` - проект лаунчера
- `project/yandex_dog` - проект ЯндексДог

#### 4.2.3. Ветки глобальных изменений
В каждой ветке проекта создаются ветки под каждое глобальное изменение:
- Формат: `project/<название_проекта>/<описание_изменения>`
- Пример: `project/emulator/add-can-simulation`

### 4.3. Правила работы с коммитами

- **Пушим только глобальные изменения:** Не коммитим и не пушим мелкие изменения по мелочам
- **Глобальное изменение:** Значимое изменение функциональности, архитектуры или структуры проекта
- **Коммиты должны быть:**
  - Логически завершенными
  - Содержать понятные сообщения коммитов
  - Группировать связанные изменения

### 4.4. Правила работы с merge

- **Запрещено:** Автоматическое слияние веток
- **Обязательно:** Merge выполняется только после явного подтверждения пользователя
- **Процесс merge:**
  1. Создать Pull Request (если работаем через GitHub)
  2. Дождаться подтверждения пользователя
  3. Выполнить merge только после одобрения

### 4.5. Рабочий процесс

1. **Выбор ветки проекта:** Переключиться на нужную ветку проекта (`project/<название>`)
2. **Создание ветки изменения:** Создать ветку для глобального изменения
3. **Разработка:** Вносить изменения в ветке изменения
4. **Коммит:** Коммитить только завершенные глобальные изменения
5. **Push:** Пушить ветку изменения (НЕ в main напрямую)
6. **Merge:** Дождаться подтверждения пользователя перед merge

### 4.6. Примеры команд

```bash
# Переключиться на ветку проекта
git checkout project/emulator

# Создать ветку для глобального изменения
git checkout -b project/emulator/add-can-simulation

# После завершения работы - коммит и push
git add .
git commit -m "Добавлена симуляция CAN-шины"
git push origin project/emulator/add-can-simulation

# Merge только после подтверждения пользователя!
```

### 4.7. Финальные APK приложений

- **Исходники APK не коммитим:** APK файлы из `APK_library/` не пушатся в репозиторий (см. `.gitignore`)
- **Пакеты обновлений не коммитим:** Папки `Update_*/` не пушатся в репозиторий
- **Финальные APK через GitHub Releases:**
  - Финальные версии написанных приложений публикуются через **GitHub Releases**
  - Создаются отдельные **assets** для каждого релиза
  - Формат: создается Release с тегом версии, к нему прикрепляется APK файл как asset
  - Пример: Release `v1.0.0` для приложения ЯндексДог с asset `YandexDog-v1.0.0.apk`

### 4.8. Что коммитим в main

В ветку `main` коммитим **ТОЛЬКО**:
- Документацию (`Knowledge_base/`)
- Правила проекта (`ПРАВИЛА.md`)
- Структуру папки `Development/` (только README файлы, без кода)
- `.gitignore` и другие конфигурационные файлы

**НЕ коммитим в main:**
- Код проектов (он в ветках проектов)
- APK файлы
- Пакеты обновлений
- Исходники из `APK_library/`

## 5. ОБЩИЕ ПРИНЦИПЫ

1. **Чистота проекта:** Соблюдать логику организации файлов
2. **Документирование:** Поддерживать актуальность документации
3. **Безопасность:** Не коммитить конфиденциальные данные
4. **Структурированность:** Следовать существующей структуре проекта
5. **Контроль версий:** Использовать git для отслеживания изменений, но не злоупотреблять мелкими коммитами

---

**Последнее обновление:** 2024


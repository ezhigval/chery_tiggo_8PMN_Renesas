# Итоги поиска приложения навигации и Broadcast слушателей

## Результаты поиска

### 1. Broadcast слушатели

**SVMapService:**
- ✅ Объявляет protected broadcasts:
  - `AUTONAVI_STANDARD_BROADCAST_RECV`
  - `THINKWARE_TO_QNX_BROADCAST_RECV`
- ✅ Имеет receiver: `BootBroadcastReceiver` (только для автозапуска)
- ❌ НЕ найдено явных receivers, которые слушают навигационные broadcasts

**SVMeterInteraction:**
- ✅ Имеет receiver: `BootCompleteReceiver` (только для автозапуска)
- ❌ НЕ найдено явных receivers, которые слушают навигационные broadcasts

**Вывод:**
- Слушатели, вероятно, регистрируются динамически в Services
- Или находятся в нативных библиотеках (.so файлы)
- Или слушаются системой QNX напрямую

### 2. Приложение навигации

**Не найдено:**
- ❌ В extracted системных приложениях
- ❌ В soc_update.zip (payload.bin - это OTA payload, нужны специальные инструменты)
- ❌ В папке обновления прошивки (только данные карт TurboDog)

**Возможные варианты:**
1. Приложение устанавливается отдельно (не в системных приложениях)
2. Приложение находится в payload.bin (нужна распаковка OTA)
3. Приложение встроено в систему другим способом

### 3. Известные форматы Broadcast

**От навигатора к системе:**
1. `AUTONAVI_STANDARD_BROADCAST_RECV` (protected)
2. `THINKWARE_TO_QNX_BROADCAST_RECV` (protected)
3. `turbodog.navigation.system.message` (не protected)

**От системы к навигатору:**
1. `desay.broadcast.map.meter.interaction`

---

## Выводы

### 1. SVMapService - это мост
- SVMapService НЕ является самим приложением навигации
- SVMapService получает данные от навигатора (через Broadcast)
- SVMapService отправляет данные в систему/QNX

### 2. Приложение навигации - отдельное
- TurboDog/AutoNavi - это отдельное приложение
- Не находится в extracted системных приложениях
- Может быть установлено отдельно или в payload.bin

### 3. Формат коммуникации известен
- Известен формат `turbodog.navigation.system.message`
- Можно использовать этот формат для отправки данных
- Не нужно знать точный package name приложения навигации

---

## Рекомендации

### Немедленно:
1. **Использовать известный формат:**
   - Формат `turbodog.navigation.system.message` известен
   - Можно отправлять данные в этом формате
   - Система должна их обработать

2. **Создать Bridge Service:**
   - Получать данные от Яндекс Навигатора
   - Преобразовывать в формат TurboDog
   - Отправлять через `turbodog.navigation.system.message`

### Дополнительно:
1. **Распаковать payload.bin:**
   - Использовать инструменты для распаковки Android OTA payload
   - Найти APK навигации внутри

2. **Использовать ADB на реальном устройстве:**
   - Найти package name приложения "НАВИГАЦИЯ"
   - Проверить, какие broadcasts оно отправляет

---

## Следующие шаги

1. ✅ Создать Bridge Service для преобразования данных
2. ✅ Использовать формат `turbodog.navigation.system.message`
3. ⏳ Протестировать на реальном устройстве
4. ⏳ При необходимости распаковать payload.bin

---

**Дата:** 2024  
**Версия:** 1.0


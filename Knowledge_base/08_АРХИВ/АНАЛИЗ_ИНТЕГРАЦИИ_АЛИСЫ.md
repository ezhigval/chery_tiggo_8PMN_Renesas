# –ê–Ω–∞–ª–∏–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å—ã –≤–º–µ—Å—Ç–æ —à—Ç–∞—Ç–Ω–æ–≥–æ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞

## üìä –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **SVVRService** (`com.desaysv.vrservice`)
   - –§–æ–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å iFlytek SDK

2. **SVVRControlMgr** (`com.desaysv.vrcontrolmgr`)
   - –ú–µ–Ω–µ–¥–∂–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ–ª–æ—Å–æ–≤—ã–º –ø–æ–º–æ—â–Ω–∏–∫–æ–º
   - –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏

3. **iFlytek SDK**
   - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
   - –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ (TTS)

---

## üé§ –¢–µ–∫—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ iFlytek

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–∞–Ω–¥—ã (–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏):

**–ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- "hello tiggo" / "hello chery" - –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ
- "open radio" - –æ—Ç–∫—Ä—ã—Ç—å —Ä–∞–¥–∏–æ
- "open music" - –æ—Ç–∫—Ä—ã—Ç—å –º—É–∑—ã–∫—É
- "open navigation" - –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é
- "next song" - —Å–ª–µ–¥—É—é—â–∞—è –ø–µ—Å–Ω—è
- "answer the call" - –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –∑–≤–æ–Ω–æ–∫
- "reject the call" - –æ—Ç–∫–ª–æ–Ω–∏—Ç—å –∑–≤–æ–Ω–æ–∫
- "back to homepage" - –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π (–∏–∑ AoiCfg.json):**
- "ÊâìÂºÄËΩ¶Á™ó" / "ÂÖ≥Èó≠ËΩ¶Á™ó" - –æ—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–∞
- "Â±èÂπï‰∫Æ‰∏ÄÁÇπ" / "‰∫Æ‰∏ÄÁÇπ" - —É–≤–µ–ª–∏—á–∏—Ç—å —è—Ä–∫–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º (—á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω "cmdControl")

**–î–æ–º–µ–Ω—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∏–∑ business.ini):**

**Self_handle (–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ):**
- `contacts` - –∫–æ–Ω—Ç–∞–∫—Ç—ã
- `telephone` - —Ç–µ–ª–µ—Ñ–æ–Ω
- `traffic` - —Ç—Ä–∞—Ñ–∏–∫
- `cmdControl` - **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã** ‚ö°
- `weather` - –ø–æ–≥–æ–¥–∞
- `mapU` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- `lbs` - –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
- `radio` - —Ä–∞–¥–∏–æ
- –ò –¥—Ä—É–≥–∏–µ...

**Output (–æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è):**
- `airControl` - **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º** ‚ö°
- `carControl` - **—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º** ‚ö°
- `cmd` - –∫–æ–º–∞–Ω–¥—ã
- `app` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `music` - –º—É–∑—ã–∫–∞
- `video` - –≤–∏–¥–µ–æ
- –ò –¥—Ä—É–≥–∏–µ...

---

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞

### –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã:

#### 1. –ü—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ (Wake-up)
```json
{
  "KeyWord": "hello tiggo",
  "KeyWordId": 0,
  "ThresholdLevel_": 1000
}
```

#### 2. –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
- iFlytek SDK —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –¥–æ–º–µ–Ω (focus)
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (slots)

#### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã
```java
// –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã "open navigation"
if (command.equals("open navigation")) {
    Intent intent = new Intent();
    intent.setComponent(new ComponentName(
        "com.desaysv.mapservice",
        "com.desaysv.mapservice.MainActivity"
    ));
    startActivity(intent);
}
```

#### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º (–¥–æ–º–µ–Ω `airControl`):**
```java
// iFlytek –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –≤ –¥–æ–º–µ–Ω "airControl"
// –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ—Ä–µ–∑ Broadcast Intent
if (domain.equals("airControl")) {
    Intent intent = new Intent("com.desaysv.hvac.VOICE_COMMAND");
    intent.putExtra("action", action); // "open", "set_temperature", etc.
    intent.putExtra("temperature", temperature);
    intent.putExtra("mode", mode); // "auto", "cool", "heat", etc.
    sendBroadcast(intent);
}
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º (–¥–æ–º–µ–Ω `carControl`):**
```java
// –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏, –¥–≤–µ—Ä—è–º–∏ –∏ —Ç.–¥.
if (domain.equals("carControl")) {
    Intent intent = new Intent("com.desaysv.vehicle.VOICE_COMMAND");
    intent.putExtra("action", action); // "open_window", "close_window", etc.
    intent.putExtra("window", window); // "left", "right", "front", "rear"
    sendBroadcast(intent);
}
```

**–û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã (–¥–æ–º–µ–Ω `cmdControl`):**
```java
// –û–±—â–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
if (domain.equals("cmdControl")) {
    Intent intent = new Intent("com.desaysv.system.VOICE_COMMAND");
    intent.putExtra("command", command);
    intent.putExtra("parameters", parameters);
    sendBroadcast(intent);
}
```

---

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å—ã

### –ü—Ä–æ–±–ª–µ–º–∞:

**–ê–ª–∏—Å–∞ –Ω–µ –∑–Ω–∞–µ—Ç –æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª—è:**
- –ù–µ –∑–Ω–∞–µ—Ç –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä
- –ù–µ –∑–Ω–∞–µ—Ç –∫–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–∞
- –ù–µ –∑–Ω–∞–µ—Ç –∫–∞–∫ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏—Å—Ç–µ–º–æ–π

### –†–µ—à–µ–Ω–∏–µ: **Bridge Service –¥–ª—è –ê–ª–∏—Å—ã**

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:**
- –ê–ª–∏—Å–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã
- Bridge Service –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –ê–ª–∏—Å—ã –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç:              ‚îÇ
‚îÇ  "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å–∞                       ‚îÇ
‚îÇ  - –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ—á—å                  ‚îÇ
‚îÇ  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É             ‚îÇ
‚îÇ  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Bridge Service      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îÇ Custom Action / Intent
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Alice Bridge Service               ‚îÇ
‚îÇ  - –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã            ‚îÇ
‚îÇ  - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è ‚îÇ
‚îÇ  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ —Å–∏—Å—Ç–µ–º—É             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚îú‚îÄ‚îÄ‚ñ∫ Broadcast Intent ‚Üí SVHvac
           ‚îú‚îÄ‚îÄ‚ñ∫ Broadcast Intent ‚Üí SVVehicleSetting
           ‚îî‚îÄ‚îÄ‚ñ∫ Broadcast Intent ‚Üí –î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

---

## üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: Custom Actions –¥–ª—è –ê–ª–∏—Å—ã (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Custom Actions API –ê–ª–∏—Å—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

#### 1.1 –°–æ–∑–¥–∞–Ω–∏–µ Custom Actions

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π:**
```json
{
  "actions": [
    {
      "name": "OPEN_HVAC",
      "description": "–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞",
      "parameters": []
    },
    {
      "name": "SET_TEMPERATURE",
      "description": "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É",
      "parameters": [
        {
          "name": "temperature",
          "type": "number"
        }
      ]
    },
    {
      "name": "OPEN_WINDOW",
      "description": "–û—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ",
      "parameters": [
        {
          "name": "window",
          "type": "string"
        }
      ]
    }
  ]
}
```

#### 1.2 –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Bridge Service

```java
public class AliceBridgeService extends Service {
    private BroadcastReceiver aliceReceiver;
    
    @Override
    public void onCreate() {
        super.onCreate();
        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Broadcast Receiver –¥–ª—è –∫–æ–º–∞–Ω–¥ –ê–ª–∏—Å—ã
        aliceReceiver = new BroadcastReceiver() {
            @Override
            public void onReceive(Context context, Intent intent) {
                String action = intent.getStringExtra("action");
                String command = intent.getStringExtra("command");
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
                handleSystemCommand(action, command, intent.getExtras());
            }
        };
        
        IntentFilter filter = new IntentFilter("ru.yandex.alice.CUSTOM_ACTION");
        registerReceiver(aliceReceiver, filter);
    }
    
    private void handleSystemCommand(String action, String command, Bundle extras) {
        switch (action) {
            case "OPEN_HVAC":
                openHVAC();
                break;
            case "SET_TEMPERATURE":
                int temperature = extras.getInt("temperature");
                setTemperature(temperature);
                break;
            case "OPEN_WINDOW":
                String window = extras.getString("window");
                openWindow(window);
                break;
            // ... –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã
        }
    }
    
    private void openHVAC() {
        Intent intent = new Intent();
        intent.setComponent(new ComponentName(
            "com.desaysv.hvac",
            "com.desaysv.hvac.MainActivity"
        ));
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
    }
    
    private void setTemperature(int temperature) {
        Intent intent = new Intent("com.desaysv.hvac.SET_TEMPERATURE");
        intent.putExtra("temperature", temperature);
        sendBroadcast(intent);
    }
    
    private void openWindow(String window) {
        Intent intent = new Intent("com.desaysv.vehicle.OPEN_WINDOW");
        intent.putExtra("window", window);
        sendBroadcast(intent);
    }
}
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Skills –¥–ª—è –ê–ª–∏—Å—ã

**–ò–¥–µ—è:** –°–æ–∑–¥–∞—Ç—å –Ω–∞–≤—ã–∫ –ê–ª–∏—Å—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**

#### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞

**–î–∏–∞–ª–æ–≥–∏ (dialogs.yandex.ru):**
- –°–æ–∑–¥–∞—Ç—å –Ω–∞–≤—ã–∫ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º"
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω—Ç–µ–Ω—Ç—ã –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–≤–µ—Ç—ã

#### 2.2 –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π

```java
public class AliceSkillHandler {
    public void handleIntent(String intent, Map<String, String> slots) {
        switch (intent) {
            case "YANDEX.OPEN_HVAC":
                openHVAC();
                break;
            case "YANDEX.SET_TEMPERATURE":
                int temp = Integer.parseInt(slots.get("temperature"));
                setTemperature(temp);
                break;
            // ... –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã
        }
    }
}
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–õ—É—á—à–∏–π)

**–ò–¥–µ—è:** –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ê–ª–∏—Å—ã –∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"
    ‚Üì
–ê–ª–∏—Å–∞: –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –æ–±—â—É—é –∫–æ–º–∞–Ω–¥—É
    ‚Üì
Alice Bridge Service: –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É
    ‚Üì
–õ–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –∫–æ–º–∞–Ω–¥—É
    ‚Üì
–°–∏—Å—Ç–µ–º–∞: –í—ã–ø–æ–ª–Ω—è–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ê–ª–∏—Å–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–Ω–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω (–¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥)
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫

---

## üîß –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: Alice Bridge Service

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–æ–º–∞–Ω–¥ –æ—Ç –ê–ª–∏—Å—ã
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –≤ —Å–∏—Å—Ç–µ–º—É

**–†–∞–∑—Ä–µ—à–µ–Ω–∏—è:**
```xml
<uses-permission android:name="android.permission.QUERY_ALL_PACKAGES"/>
<uses-permission android:name="android.permission.REORDER_TASKS"/>
<uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW"/>
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```java
public class AliceBridgeService extends Service {
    private static final String TAG = "AliceBridge";
    
    // –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–º–∞–Ω–¥ –ê–ª–∏—Å—ã –Ω–∞ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    private Map<String, SystemAction> commandMap;
    
    @Override
    public void onCreate() {
        super.onCreate();
        initCommandMap();
        registerReceivers();
    }
    
    private void initCommandMap() {
        commandMap = new HashMap<>();
        
        // –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä (–¥–æ–º–µ–Ω airControl)
        commandMap.put("–æ—Ç–∫—Ä–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä", new SystemAction(
            "OPEN_ACTIVITY",
            "com.desaysv.hvac",
            "com.desaysv.hvac.MainActivity"
        ));
        
        commandMap.put("–ø–æ–∫–∞–∂–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä", new SystemAction(
            "OPEN_ACTIVITY",
            "com.desaysv.hvac",
            "com.desaysv.hvac.MainActivity"
        ));
        
        commandMap.put("—É—Å—Ç–∞–Ω–æ–≤–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É", new SystemAction(
            "BROADCAST",
            "com.desaysv.hvac.VOICE_COMMAND",
            "airControl"
        ));
        
        commandMap.put("–≤–∫–ª—é—á–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä", new SystemAction(
            "BROADCAST",
            "com.desaysv.hvac.VOICE_COMMAND",
            "airControl"
        ));
        
        commandMap.put("–≤—ã–∫–ª—é—á–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä", new SystemAction(
            "BROADCAST",
            "com.desaysv.hvac.VOICE_COMMAND",
            "airControl"
        ));
        
        // –û–∫–Ω–∞ (–¥–æ–º–µ–Ω carControl)
        commandMap.put("–æ—Ç–∫—Ä–æ–π –æ–∫–Ω–æ", new SystemAction(
            "BROADCAST",
            "com.desaysv.vehicle.VOICE_COMMAND",
            "carControl"
        ));
        
        commandMap.put("–∑–∞–∫—Ä–æ–π –æ–∫–Ω–æ", new SystemAction(
            "BROADCAST",
            "com.desaysv.vehicle.VOICE_COMMAND",
            "carControl"
        ));
        
        commandMap.put("–æ–ø—É—Å—Ç–∏ –æ–∫–Ω–æ", new SystemAction(
            "BROADCAST",
            "com.desaysv.vehicle.VOICE_COMMAND",
            "carControl"
        ));
        
        commandMap.put("–ø–æ–¥–Ω–∏–º–∏ –æ–∫–Ω–æ", new SystemAction(
            "BROADCAST",
            "com.desaysv.vehicle.VOICE_COMMAND",
            "carControl"
        ));
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        commandMap.put("–æ—Ç–∫—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏—é", new SystemAction(
            "OPEN_ACTIVITY",
            "ru.yandex.yandexnavi",
            "ru.yandex.yandexnavi.MainActivity"
        ));
        
        // –ú—É–∑—ã–∫–∞
        commandMap.put("–æ—Ç–∫—Ä–æ–π –º—É–∑—ã–∫—É", new SystemAction(
            "OPEN_ACTIVITY",
            "ru.yandex.music",
            "ru.yandex.music.ui.MainActivity"
        ));
        
        // ... –¥—Ä—É–≥–∏–µ –∫–æ–º–∞–Ω–¥—ã
    }
    
    private void registerReceivers() {
        // Receiver –¥–ª—è –∫–æ–º–∞–Ω–¥ –æ—Ç –ê–ª–∏—Å—ã
        BroadcastReceiver aliceReceiver = new BroadcastReceiver() {
            @Override
            public void onReceive(Context context, Intent intent) {
                String command = intent.getStringExtra("command");
                String text = intent.getStringExtra("text");
                
                // –ü–æ–∏—Å–∫ –∫–æ–º–∞–Ω–¥—ã –≤ –º–∞–ø–ø–∏–Ω–≥–µ
                SystemAction action = findAction(text);
                if (action != null) {
                    executeAction(action, intent.getExtras());
                }
            }
        };
        
        IntentFilter filter = new IntentFilter("ru.yandex.alice.COMMAND");
        registerReceiver(aliceReceiver, filter);
    }
    
    private SystemAction findAction(String text) {
        // –ü–æ–∏—Å–∫ –∫–æ–º–∞–Ω–¥—ã –≤ –º–∞–ø–ø–∏–Ω–≥–µ
        for (Map.Entry<String, SystemAction> entry : commandMap.entrySet()) {
            if (text.toLowerCase().contains(entry.getKey().toLowerCase())) {
                return entry.getValue();
            }
        }
        return null;
    }
    
    private void executeAction(SystemAction action, Bundle extras) {
        switch (action.type) {
            case "OPEN_ACTIVITY":
                openActivity(action.packageName, action.className);
                break;
            case "BROADCAST":
                sendBroadcast(action.packageName, extras);
                break;
        }
    }
    
    private void openActivity(String packageName, String className) {
        try {
            Intent intent = new Intent();
            intent.setComponent(new ComponentName(packageName, className));
            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
            startActivity(intent);
        } catch (Exception e) {
            Log.e(TAG, "Error opening activity", e);
        }
    }
    
    private void sendBroadcast(String action, Bundle extras) {
        Intent intent = new Intent(action);
        if (extras != null) {
            intent.putExtras(extras);
        }
        sendBroadcast(intent);
    }
    
    // –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
    private void handleSystemCommand(SystemAction action, Bundle extras) {
        Intent intent = new Intent(action.packageName);
        
        // –î–ª—è –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞ (airControl)
        if ("airControl".equals(action.className)) {
            intent.putExtra("domain", "airControl");
            String command = extractCommand(extras);
            intent.putExtra("command", command);
            
            // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            if (command.contains("—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä")) {
                int temp = extractTemperature(extras);
                intent.putExtra("temperature", temp);
            }
            if (command.contains("–≤–∫–ª—é—á–∏") || command.contains("–≤—ã–∫–ª—é—á–∏")) {
                boolean enabled = command.contains("–≤–∫–ª—é—á–∏");
                intent.putExtra("enabled", enabled);
            }
        }
        
        // –î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º (carControl)
        else if ("carControl".equals(action.className)) {
            intent.putExtra("domain", "carControl");
            String command = extractCommand(extras);
            intent.putExtra("command", command);
            
            // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–∫–Ω–∞
            if (command.contains("–æ–∫–Ω–æ")) {
                String window = extractWindow(extras);
                intent.putExtra("window", window);
            }
        }
        
        sendBroadcast(intent);
    }
    
    private String extractCommand(Bundle extras) {
        // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞
        String text = extras.getString("text", "");
        return text.toLowerCase();
    }
    
    private int extractTemperature(Bundle extras) {
        // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞
        String text = extras.getString("text", "");
        // –ü–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–ª–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞
        // –ù–∞–ø—Ä–∏–º–µ—Ä: "—É—Å—Ç–∞–Ω–æ–≤–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É 22" -> 22
        return parseTemperature(text);
    }
    
    private String extractWindow(Bundle extras) {
        // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ–∫–Ω–∞
        String text = extras.getString("text", "");
        // –ü–∞—Ä—Å–∏–Ω–≥ –æ–∫–Ω–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞
        // –ù–∞–ø—Ä–∏–º–µ—Ä: "–æ—Ç–∫—Ä–æ–π –ª–µ–≤–æ–µ –æ–∫–Ω–æ" -> "left"
        if (text.contains("–ª–µ–≤–æ–µ") || text.contains("–ª–µ–≤–æ–π")) return "left";
        if (text.contains("–ø—Ä–∞–≤–æ–µ") || text.contains("–ø—Ä–∞–≤–æ–π")) return "right";
        if (text.contains("–ø–µ—Ä–µ–¥–Ω–µ–µ") || text.contains("–ø–µ—Ä–µ–¥–Ω–µ–π")) return "front";
        if (text.contains("–∑–∞–¥–Ω–µ–µ") || text.contains("–∑–∞–¥–Ω–µ–π")) return "rear";
        return "all";
    }
    
    private static class SystemAction {
        String type;
        String packageName;
        String className;
        
        SystemAction(String type, String packageName, String className) {
            this.type = type;
            this.packageName = packageName;
            this.className = className;
        }
    }
}
```

---

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ê–ª–∏—Å–æ–π

#### 2.1 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å—ã SDK

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```gradle
dependencies {
    implementation 'ru.yandex:alice-sdk:1.0.0'
}
```

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
```java
public class AliceManager {
    private Alice alice;
    
    public void init(Context context) {
        alice = new Alice.Builder(context)
            .setApiKey("YOUR_API_KEY")
            .setCustomActionHandler(new CustomActionHandler() {
                @Override
                public void onAction(String action, Map<String, String> params) {
                    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Bridge Service
                    Intent intent = new Intent("ru.yandex.alice.COMMAND");
                    intent.putExtra("action", action);
                    intent.putExtra("command", buildCommand(action, params));
                    context.sendBroadcast(intent);
                }
            })
            .build();
    }
    
    public void startListening() {
        alice.startListening();
    }
}
```

#### 2.2 –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Broadcast Receiver

**–ï—Å–ª–∏ –ê–ª–∏—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç Broadcast Intent:**
```java
private BroadcastReceiver aliceReceiver = new BroadcastReceiver() {
    @Override
    public void onReceive(Context context, Intent intent) {
        String command = intent.getStringExtra("command");
        String text = intent.getStringExtra("text");
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã
        handleCommand(command, text, intent.getExtras());
    }
};

// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
IntentFilter filter = new IntentFilter("ru.yandex.alice.VOICE_COMMAND");
context.registerReceiver(aliceReceiver, filter);
```

---

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 3: –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–º–∞–Ω–¥

**–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥:**
```json
{
  "commands": [
    {
      "alice_patterns": [
        "–æ—Ç–∫—Ä–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä",
        "–ø–æ–∫–∞–∂–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä",
        "–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞"
      ],
      "system_action": {
        "type": "OPEN_ACTIVITY",
        "package": "com.desaysv.hvac",
        "activity": "com.desaysv.hvac.MainActivity"
      }
    },
    {
      "alice_patterns": [
        "—É—Å—Ç–∞–Ω–æ–≤–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É {temperature}",
        "–ø–æ—Å—Ç–∞–≤—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É {temperature}",
        "—Å–¥–µ–ª–∞–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É {temperature}"
      ],
      "system_action": {
        "type": "BROADCAST",
        "action": "com.desaysv.hvac.SET_TEMPERATURE",
        "extras": {
          "temperature": "{temperature}"
        }
      }
    },
    {
      "alice_patterns": [
        "–æ—Ç–∫—Ä–æ–π {window} –æ–∫–Ω–æ",
        "–æ–ø—É—Å—Ç–∏ {window} –æ–∫–Ω–æ"
      ],
      "system_action": {
        "type": "BROADCAST",
        "action": "com.desaysv.vehicle.OPEN_WINDOW",
        "extras": {
          "window": "{window}"
        }
      }
    }
  ]
}
```

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)

1. **–ò–∑—É—á–µ–Ω–∏–µ –ê–ª–∏—Å—ã SDK**
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å—ã
   - –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
   - Custom Actions API

2. **–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥**
   - –î–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è SVHvac
   - –î–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è SVVehicleSetting
   - –ü–æ–∏—Å–∫ Broadcast Intent –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ê–ª–∏—Å—É –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ API
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è

### –≠—Ç–∞–ø 2: –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Bridge Service (5-7 –¥–Ω–µ–π)

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
   - Android Studio –ø—Ä–æ–µ–∫—Ç
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
   - –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–º–∞–Ω–¥**
   - –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –ü–∞—Ä—Å–µ—Ä –∫–æ–º–∞–Ω–¥
   - –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏–π

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ê–ª–∏—Å–æ–π**
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SDK
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É

### –≠—Ç–∞–ø 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π (3-5 –¥–Ω–µ–π)

1. **–ò–∑—É—á–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
   - SVHvac - –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä
   - SVVehicleSetting - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è
   - –î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

2. **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥**
   - –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–æ–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Broadcast
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CAN (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –≠—Ç–∞–ø 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2-3 –¥–Ω—è)

1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è –æ–∫–æ–Ω
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π

2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –†–∞–±–æ—Ç–∞ —Å –ê–ª–∏—Å–æ–π
   - –†–∞–±–æ—Ç–∞ —Å —Å–∏—Å—Ç–µ–º–æ–π
   - –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü–æ–¥—Ö–æ–¥: –ì–∏–±—Ä–∏–¥–Ω—ã–π (–ê–ª–∏—Å–∞ + Bridge Service)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ê–ª–∏—Å–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫
- ‚úÖ Bridge Service –∑–Ω–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:

1. **–Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å–∞**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
   - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
   - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫

2. **Alice Bridge Service**
   - –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–æ–º–∞–Ω–¥
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É

3. **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - SVHvac - –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä
   - SVVehicleSetting - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –î—Ä—É–≥–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥ –¥–ª—è –ê–ª–∏—Å—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º:

**–û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"
- "–ê–ª–∏—Å–∞, –ø–æ–∫–∞–∂–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"
- "–ê–ª–∏—Å–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞"

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π:**
- "–ê–ª–∏—Å–∞, —É—Å—Ç–∞–Ω–æ–≤–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É 22"
- "–ê–ª–∏—Å–∞, –ø–æ—Å—Ç–∞–≤—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É 20 –≥—Ä–∞–¥—É—Å–æ–≤"
- "–ê–ª–∏—Å–∞, —Å–¥–µ–ª–∞–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É 24"

**–í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ:**
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"
- "–ê–ª–∏—Å–∞, –≤—ã–∫–ª—é—á–∏ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –æ–±–æ–≥—Ä–µ–≤"

**–†–µ–∂–∏–º—ã:**
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º"
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ"
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –æ–±–æ–≥—Ä–µ–≤"

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏:

**–û—Ç–∫—Ä—ã—Ç–∏–µ/–∑–∞–∫—Ä—ã—Ç–∏–µ:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –∑–∞–∫—Ä–æ–π –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –æ–ø—É—Å—Ç–∏ –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –ø–æ–¥–Ω–∏–º–∏ –æ–∫–Ω–æ"

**–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ–∫–Ω–∞:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –ª–µ–≤–æ–µ –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –ø—Ä–∞–≤–æ–µ –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –ø–µ—Ä–µ–¥–Ω–µ–µ –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –∑–∞–¥–Ω–µ–µ –æ–∫–Ω–æ"
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –≤—Å–µ –æ–∫–Ω–∞"

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏:

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏—é"
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é"
- "–ê–ª–∏—Å–∞, –ø–æ–∫–∞–∂–∏ –∫–∞—Ä—Ç—É"

**–ú—É–∑—ã–∫–∞:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –º—É–∑—ã–∫—É"
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ –º—É–∑—ã–∫—É"
- "–ê–ª–∏—Å–∞, –∑–∞–ø—É—Å—Ç–∏ –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫—É"

**–†–∞–¥–∏–æ:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π —Ä–∞–¥–∏–æ"
- "–ê–ª–∏—Å–∞, –≤–∫–ª—é—á–∏ —Ä–∞–¥–∏–æ"

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏:**
- "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
- "–ê–ª–∏—Å–∞, –ø–æ–∫–∞–∂–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª—è"

---

## üîß –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥

### –û—Ç–∫—Ä—ã—Ç–∏–µ –æ–∫–Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```java
private void openHVAC() {
    // –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫ Activity
    Intent intent = new Intent();
    intent.setComponent(new ComponentName(
        "com.desaysv.hvac",
        "com.desaysv.hvac.MainActivity"
    ));
    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
    startActivity(intent);
    
    // –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Broadcast Intent (–µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–ª—É—à–∞–µ—Ç)
    Intent broadcast = new Intent("com.desaysv.hvac.OPEN");
    sendBroadcast(broadcast);
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–æ–º:

```java
private void setTemperature(int temperature) {
    Intent intent = new Intent("com.desaysv.hvac.VOICE_COMMAND");
    intent.putExtra("domain", "airControl");
    intent.putExtra("action", "set_temperature");
    intent.putExtra("temperature", temperature);
    sendBroadcast(intent);
}

private void setHVACMode(String mode) {
    Intent intent = new Intent("com.desaysv.hvac.VOICE_COMMAND");
    intent.putExtra("domain", "airControl");
    intent.putExtra("action", "set_mode");
    intent.putExtra("mode", mode); // "auto", "cool", "heat", "vent"
    sendBroadcast(intent);
}

private void enableHVAC(boolean enabled) {
    Intent intent = new Intent("com.desaysv.hvac.VOICE_COMMAND");
    intent.putExtra("domain", "airControl");
    intent.putExtra("action", enabled ? "enable" : "disable");
    sendBroadcast(intent);
}
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞–º–∏:

```java
private void openWindow(String window) {
    Intent intent = new Intent("com.desaysv.vehicle.VOICE_COMMAND");
    intent.putExtra("domain", "carControl");
    intent.putExtra("action", "open_window");
    intent.putExtra("window", window); // "left", "right", "front", "rear", "all"
    sendBroadcast(intent);
}

private void closeWindow(String window) {
    Intent intent = new Intent("com.desaysv.vehicle.VOICE_COMMAND");
    intent.putExtra("domain", "carControl");
    intent.putExtra("action", "close_window");
    intent.putExtra("window", window);
    sendBroadcast(intent);
}
```

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ü–æ–¥—Ö–æ–¥: –ì–∏–±—Ä–∏–¥–Ω—ã–π (–ê–ª–∏—Å–∞ + Bridge Service)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ê–ª–∏—Å–∞, –æ—Ç–∫—Ä–æ–π –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä"
    ‚Üì
–ê–ª–∏—Å–∞: –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É
    ‚Üì
Alice Bridge Service: –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É
    ‚Üì
–õ–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫: –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –∫–æ–º–∞–Ω–¥—É
    ‚Üì
–°–∏—Å—Ç–µ–º–∞: –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä–∞
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ê–ª–∏—Å–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∑–Ω–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ–ª–∞–π–Ω –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —à—Ç–∞—Ç–Ω–æ–≥–æ –ø–æ–º–æ—â–Ω–∏–∫–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:

1. **–Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å–∞**
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
   - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏
   - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —è–∑—ã–∫

2. **Alice Bridge Service**
   - –ü–µ—Ä–µ—Ö–≤–∞—Ç –∫–æ–º–∞–Ω–¥ –æ—Ç –ê–ª–∏—Å—ã
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É

3. **–ú–∞–ø–ø–∏–Ω–≥ –∫–æ–º–∞–Ω–¥**
   - –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–æ–º–∞–Ω–¥
   - –ü–∞—Ä—Å–∏–Ω–≥ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π:

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤:**
- Broadcast Intent –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –î–æ–º–µ–Ω—ã `airControl` –∏ `carControl`
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ù–µ –Ω—É–∂–Ω–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ Broadcast Intent
- –ü—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤–ª—è–µ–º Bridge Service

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **–Ø–Ω–¥–µ–∫—Å –ê–ª–∏—Å–∞ SDK:** https://yandex.ru/dev/dialogs/
- **Custom Actions:** https://yandex.ru/dev/dialogs/alice/doc/about.html
- **Skills –¥–ª—è –ê–ª–∏—Å—ã:** https://dialogs.yandex.ru/

---

**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω, –ø–ª–∞–Ω –≥–æ—Ç–æ–≤  
**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 1.0


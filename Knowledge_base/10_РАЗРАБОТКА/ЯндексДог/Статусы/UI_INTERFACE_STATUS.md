# UI –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**1. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç—ã (map_renderer.c/h)**

- ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–∞–π–ª–æ–≤ –∫–∞—Ä—Ç—ã —á–µ—Ä–µ–∑ OpenGL ES
- ‚úÖ –û—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–µ–∫—Ü–∏—è –¥–ª—è 2D –∫–∞—Ä—Ç—ã
- ‚úÖ –®–µ–π–¥–µ—Ä—ã –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Ç–∞–π–ª–æ–≤
- ‚úÖ VBO/VAO –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

**2. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–∞ (route_renderer.c/h)**

- ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ–ª–∏–ª–∏–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ Web Mercator –ø—Ä–æ–µ–∫—Ü–∏—è –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–∞–º–µ—Ä—ã
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–∞ –∏ —à–∏—Ä–∏–Ω—ã –ª–∏–Ω–∏–∏

**3. OpenGL –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (render_gl.c/h)**

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ EGL –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è Display 0 –∏ Display 1
- ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ü–∏–∫–ª—ã –¥–ª—è –æ–±–æ–∏—Ö –¥–∏—Å–ø–ª–µ–µ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º OpenGL

### ‚ùå –ß—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

**1. UI —Ä–µ–Ω–¥–µ—Ä–µ—Ä (ui_renderer.c/h) - –û–¢–°–£–¢–°–¢–í–£–ï–¢**

- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ (—Å–∫–æ—Ä–æ—Å—Ç—å, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, –≤—Ä–µ–º—è)
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π –º–∞–Ω–µ–≤—Ä–æ–≤
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚ùå –í–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞ –¥–ª—è UI

**2. NanoVG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –û–¢–°–£–¢–°–¢–í–£–ï–¢**

- ‚ùå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ NanoVG
- ‚ùå –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è NanoVG –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ NanoVG

## üéØ –ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ TurboDog

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ TurboDog UI

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CTurboDogDlg (–ù–∞—Ç–∏–≤–Ω—ã–π –¥–≤–∏–∂–æ–∫)     ‚îÇ
‚îÇ  - –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏          ‚îÇ
‚îÇ  - –°–∫–æ—Ä–æ—Å—Ç—å, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ, –º–∞–Ω–µ–≤—Ä—ã    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  OpenGL ES (render_gl.c)            ‚îÇ
‚îÇ  - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç—ã                  ‚îÇ
‚îÇ  - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–∞               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  NanoVG (ui_renderer.c)             ‚îÇ
‚îÇ  - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI –ø–æ–≤–µ—Ä—Ö OpenGL       ‚îÇ
‚îÇ  - –í–µ–∫—Ç–æ—Ä–Ω–∞—è –≥—Ä–∞—Ñ–∏–∫–∞                ‚îÇ
‚îÇ  - –¢–µ–∫—Å—Ç –∏ –∏–∫–æ–Ω–∫–∏                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã TurboDog

**1. NanoVG (TurboDog_CreateNVG)**

- –õ–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫–∏
- –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–æ–≤–µ—Ä—Ö OpenGL ES
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**2. UI —ç–ª–µ–º–µ–Ω—Ç—ã –≤ TurboDog:**

- **–°–∫–æ—Ä–æ—Å—Ç—å** - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç/—Ü–∏—Ñ—Ä—ã
- **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∞–Ω–µ–≤—Ä–∞** - —Ç–µ–∫—Å—Ç —Å –º–µ—Ç—Ä–∞–º–∏/–∫–∏–ª–æ–º–µ—Ç—Ä–∞–º–∏
- **–£–∫–∞–∑–∞—Ç–µ–ª—å –º–∞–Ω–µ–≤—Ä–∞** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –∏–∫–æ–Ω–∫–∞ (—Å—Ç—Ä–µ–ª–∫–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞)
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏** - –∏–∫–æ–Ω–∫–∞ —Å —á–∏—Å–ª–æ–º
- **–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–∏** - —Ç–µ–∫—Å—Ç–æ–≤–∞—è –ø–æ–¥–ø–∏—Å—å
- **–í—Ä–µ–º—è –≤ –ø—É—Ç–∏** - —Ç–µ–∫—Å—Ç —Å —á–∞—Å–∞–º–∏/–º–∏–Ω—É—Ç–∞–º–∏

## üîß –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ UI

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ NanoVG

**–í–∞—Ä–∏–∞–Ω—Ç 1: –í—Å—Ç—Ä–æ–∏—Ç—å NanoVG –≤ –ø—Ä–æ–µ–∫—Ç**

```cmake
# –î–æ–±–∞–≤–∏—Ç—å –≤ CMakeLists.txt
add_subdirectory(nanovg)
target_link_libraries(tiggo_navigator nanovg)
```

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É**

- –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å NanoVG –¥–ª—è Android
- –î–æ–±–∞–≤–∏—Ç—å –∫–∞–∫ prebuilt –±–∏–±–ª–∏–æ—Ç–µ–∫—É

### 2. –°–æ–∑–¥–∞—Ç—å ui_renderer.c/h

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

```c
// ui_renderer.h
#ifndef UI_RENDERER_H
#define UI_RENDERER_H

#include "../core/tiggo_engine.h"

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞
BOOL Tiggo_InitUIRenderer(CTiggoEngine* pEngine, int nWidth, int nHeight);

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
void Tiggo_RenderUI(CTiggoEngine* pEngine, BOOL bSimplified);

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–∫–æ—Ä–æ—Å—Ç–∏
void Tiggo_RenderSpeed(CTiggoEngine* pEngine, int nSpeed);

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∫–∞–∑–∞—Ç–µ–ª—è –º–∞–Ω–µ–≤—Ä–∞
void Tiggo_RenderManeuverArrow(CTiggoEngine* pEngine, int nType, int nDistance);

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏
void Tiggo_RenderSpeedLimit(CTiggoEngine* pEngine, int nSpeedLimit);

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–æ—Ä–æ–≥–∏
void Tiggo_RenderRoadName(CTiggoEngine* pEngine, const char* pcRoadName);

// –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ UI —Ä–µ–Ω–¥–µ—Ä–µ—Ä–∞
void Tiggo_DestroyUIRenderer(CTiggoEngine* pEngine);

#endif
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ ui_renderer.c:**

```c
#include "ui_renderer.h"
#include "nanovg.h"
#include "../core/tiggo_engine.h"

// NanoVG –∫–æ–Ω—Ç–µ–∫—Å—Ç
static NVGcontext* g_pNVGContext = NULL;

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
BOOL Tiggo_InitUIRenderer(CTiggoEngine* pEngine, int nWidth, int nHeight) {
    // –°–æ–∑–¥–∞–µ–º NanoVG –∫–æ–Ω—Ç–µ–∫—Å—Ç
    g_pNVGContext = nvgCreateGLES3(NVG_ANTIALIAS | NVG_STENCIL_STROKES);

    // –ó–∞–≥—Ä—É–∂–∞–µ–º —à—Ä–∏—Ñ—Ç—ã
    nvgCreateFont(g_pNVGContext, "sans", "assets/fonts/Roboto-Regular.ttf");
    nvgCreateFont(g_pNVGContext, "sans-bold", "assets/fonts/Roboto-Bold.ttf");

    return TRUE;
}

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–∫–æ—Ä–æ—Å—Ç–∏
void Tiggo_RenderSpeed(CTiggoEngine* pEngine, int nSpeed) {
    if (g_pNVGContext == NULL) return;

    nvgBeginFrame(g_pNVGContext, pEngine->m_nMainDisplayWidth,
                  pEngine->m_nMainDisplayHeight, 1.0f);

    // –†–µ–Ω–¥–µ—Ä–∏–º —Å–∫–æ—Ä–æ—Å—Ç—å –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
    nvgFontSize(g_pNVGContext, 48.0f);
    nvgFontFace(g_pNVGContext, "sans-bold");
    nvgFillColor(g_pNVGContext, nvgRGBA(255, 255, 255, 255));
    nvgTextAlign(g_pNVGContext, NVG_ALIGN_RIGHT | NVG_ALIGN_TOP);

    char szSpeed[16];
    snprintf(szSpeed, sizeof(szSpeed), "%d", nSpeed);
    nvgText(g_pNVGContext, pEngine->m_nMainDisplayWidth - 20, 20, szSpeed, NULL);

    nvgEndFrame(g_pNVGContext);
}

// –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–∫–∞–∑–∞—Ç–µ–ª—è –º–∞–Ω–µ–≤—Ä–∞
void Tiggo_RenderManeuverArrow(CTiggoEngine* pEngine, int nType, int nDistance) {
    if (g_pNVGContext == NULL) return;

    nvgBeginFrame(g_pNVGContext, pEngine->m_nMainDisplayWidth,
                  pEngine->m_nMainDisplayHeight, 1.0f);

    // –†–µ–Ω–¥–µ—Ä–∏–º —Å—Ç—Ä–µ–ª–∫—É –≤ —Ü–µ–Ω—Ç—Ä–µ —ç–∫—Ä–∞–Ω–∞
    float fCenterX = pEngine->m_nMainDisplayWidth / 2.0f;
    float fCenterY = pEngine->m_nMainDisplayHeight / 2.0f;

    // –†–∏—Å—É–µ–º —Å—Ç—Ä–µ–ª–∫—É –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –º–∞–Ω–µ–≤—Ä–∞
    // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Å—Ç—Ä–µ–ª–æ–∫

    // –†–µ–Ω–¥–µ—Ä–∏–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥ —Å—Ç—Ä–µ–ª–∫–æ–π
    char szDistance[32];
    if (nDistance >= 1000) {
        snprintf(szDistance, sizeof(szDistance), "%.1f –∫–º", nDistance / 1000.0f);
    } else {
        snprintf(szDistance, sizeof(szDistance), "%d –º", nDistance);
    }

    nvgFontSize(g_pNVGContext, 24.0f);
    nvgFontFace(g_pNVGContext, "sans");
    nvgFillColor(g_pNVGContext, nvgRGBA(255, 255, 255, 255));
    nvgTextAlign(g_pNVGContext, NVG_ALIGN_CENTER | NVG_ALIGN_TOP);
    nvgText(g_pNVGContext, fCenterX, fCenterY + 60, szDistance, NULL);

    nvgEndFrame(g_pNVGContext);
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ UI
void Tiggo_RenderUI(CTiggoEngine* pEngine, BOOL bSimplified) {
    if (g_pNVGContext == NULL || pEngine == NULL) return;

    // –ù–∞—á–∏–Ω–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ NanoVG –ø–æ–≤–µ—Ä—Ö OpenGL
    nvgBeginFrame(g_pNVGContext, pEngine->m_nMainDisplayWidth,
                  pEngine->m_nMainDisplayHeight, 1.0f);

    if (!bSimplified) {
        // Display 0: –ü–æ–ª–Ω—ã–π UI
        // - –°–∫–æ—Ä–æ—Å—Ç—å
        Tiggo_RenderSpeed(pEngine, (int)pEngine->m_fCurrentSpeed);

        // - –£–∫–∞–∑–∞—Ç–µ–ª—å –º–∞–Ω–µ–≤—Ä–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        if (pEngine->m_bNavigationActive && pEngine->m_nNextManeuverDistance > 0) {
            Tiggo_RenderManeuverArrow(pEngine, pEngine->m_nNextManeuverType,
                                     pEngine->m_nNextManeuverDistance);
        }

        // - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
        if (pEngine->m_nSpeedLimitKmh > 0) {
            Tiggo_RenderSpeedLimit(pEngine, pEngine->m_nSpeedLimitKmh);
        }

        // - –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–∏
        if (pEngine->m_pcCurrentRoadName[0] != '\0') {
            Tiggo_RenderRoadName(pEngine, pEngine->m_pcCurrentRoadName);
        }
    } else {
        // Display 1: –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π UI
        // - –¢–æ–ª—å–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
        if (pEngine->m_nSpeedLimitKmh > 0) {
            Tiggo_RenderSpeedLimit(pEngine, pEngine->m_nSpeedLimitKmh);
        }
    }

    // –ó–∞–≤–µ—Ä—à–∞–µ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
    nvgEndFrame(g_pNVGContext);
}
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å render_gl.c

**–û–±–Ω–æ–≤–∏—Ç—å Tiggo_RenderGL:**

```c
void Tiggo_RenderGL(CTiggoEngine* pEngine) {
    // ... —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç—ã –∏ –º–∞—Ä—à—Ä—É—Ç–∞ ...

    // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI –ø–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ
    Tiggo_RenderUI(pEngine, FALSE); // Display 0 - –ø–æ–ª–Ω—ã–π UI
}
```

**–û–±–Ω–æ–≤–∏—Ç—å Tiggo_RenderSecondaryWndGL:**

```c
void Tiggo_RenderSecondaryWndGL(CTiggoEngine* pEngine, int nIndex) {
    // ... —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –∫–∞—Ä—Ç—ã ...

    // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–≥–æ UI
    Tiggo_RenderUI(pEngine, TRUE); // Display 1 - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π UI
}
```

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ UI

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1-2 —á–∞—Å–∞)

1. ‚úÖ –î–æ–±–∞–≤–∏—Ç—å NanoVG –≤ –ø—Ä–æ–µ–∫—Ç
2. ‚úÖ –°–æ–∑–¥–∞—Ç—å ui_renderer.h
3. ‚úÖ –°–æ–∑–¥–∞—Ç—å ui_renderer.c —Å –∑–∞–≥–ª—É—à–∫–∞–º–∏

### –≠—Ç–∞–ø 2: –ë–∞–∑–æ–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (2-3 —á–∞—Å–∞)

1. ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è NanoVG –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
2. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —à—Ä–∏—Ñ—Ç–æ–≤
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenGL

### –≠—Ç–∞–ø 3: –ë–∞–∑–æ–≤—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (3-4 —á–∞—Å–∞)

1. ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞ (—Å–∫–æ—Ä–æ—Å—Ç—å)
2. ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–æ—Å—Ç—ã—Ö —Ñ–æ—Ä–º
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —ç–∫—Ä–∞–Ω–µ

### –≠—Ç–∞–ø 4: –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (4-6 —á–∞—Å–æ–≤)

1. ‚úÖ –£–∫–∞–∑–∞—Ç–µ–ª–∏ –º–∞–Ω–µ–≤—Ä–æ–≤
2. ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
3. ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–∏
4. ‚úÖ –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∞–Ω–µ–≤—Ä–∞

### –≠—Ç–∞–ø 5: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (2-3 —á–∞—Å–∞)

1. ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç—É—Ä
2. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
3. ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üé® –≠–ª–µ–º–µ–Ω—Ç—ã UI, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

### Display 0 (–ü–æ–ª–Ω—ã–π UI)

1. **–°–∫–æ—Ä–æ—Å—Ç—å** - –±–æ–ª—å—à–æ–π —Ç–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É
2. **–£–∫–∞–∑–∞—Ç–µ–ª—å –º–∞–Ω–µ–≤—Ä–∞** - –≤–µ–∫—Ç–æ—Ä–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ
3. **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∞–Ω–µ–≤—Ä–∞** - —Ç–µ–∫—Å—Ç –ø–æ–¥ —Å—Ç—Ä–µ–ª–∫–æ–π
4. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏** - –∏–∫–æ–Ω–∫–∞ —Å–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É
5. **–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–∏** - —Ç–µ–∫—Å—Ç –≤–Ω–∏–∑—É
6. **–í—Ä–µ–º—è –≤ –ø—É—Ç–∏** - —Ç–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É (–µ—Å–ª–∏ –µ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç)
7. **–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ —Ü–µ–ª–∏** - —Ç–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É (–µ—Å–ª–∏ –µ—Å—Ç—å –º–∞—Ä—à—Ä—É—Ç)

### Display 1 (–£–ø—Ä–æ—â–µ–Ω–Ω—ã–π UI)

1. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏** - –∏–∫–æ–Ω–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI** –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: ‚è≥ –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**UI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.**

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ç–æ–ª—å–∫–æ:

- ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç—ã (—Ç–∞–π–ª—ã)
- ‚úÖ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ä—à—Ä—É—Ç–∞ (–ø–æ–ª–∏–ª–∏–Ω–∏—è)

–ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

- ‚ùå UI —Ä–µ–Ω–¥–µ—Ä–µ—Ä (ui_renderer.c/h)
- ‚ùå NanoVG –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—Å—Ç–∞
- ‚ùå –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ui_renderer.c/h —Å NanoVG –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç—ã.

# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ CMake –∏ Gradle

## ‚ùå –ü—Ä–æ–±–ª–µ–º—ã

1. **CMake –≤–µ—Ä—Å–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:**
   ```
   [CXX1300] CMake '3.18.1' was not found in SDK, PATH, or by cmake.dir property.
   [CXX1301] - CMake '4.1.2' found in PATH did not satisfy requested version.
   ```

2. **NullPointerException** –ø—Ä–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–±—Ä–∞—Ç—å –∂–µ—Å—Ç–∫—É—é –≤–µ—Ä—Å–∏—é CMake

**–ü—Ä–æ–±–ª–µ–º–∞:** –í `app/build.gradle` —É–∫–∞–∑–∞–Ω–∞ –≤–µ—Ä—Å–∏—è CMake 3.18.1, –Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ 4.1.2

**–†–µ—à–µ–Ω–∏–µ:** –£–±—Ä–∞—Ç—å —É–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ CMake - Android Studio –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—É—é –≤–µ—Ä—Å–∏—é

**–ò–∑–º–µ–Ω–µ–Ω–æ –≤ `app/build.gradle`:**
```gradle
externalNativeBuild {
    cmake {
        path file('../CMakeLists.txt')
        // –£–±—Ä–∞–Ω–∞ —Å—Ç—Ä–æ–∫–∞: version "3.18.1"
        // Android Studio –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â—É—é –≤–µ—Ä—Å–∏—é
    }
}
```

### 2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `cppFlags` –¥–ª—è C –∫–æ–¥–∞

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cFlags` –¥–ª—è C (–Ω–µ C++) –∫–æ–¥–∞

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
```gradle
externalNativeBuild {
    cmake {
        cFlags "-std=c99"  // –î–ª—è C –∫–æ–¥–∞
        // cppFlags —É–¥–∞–ª–µ–Ω—ã
    }
}
```

### 3. –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CMake 3.18.1

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é CMake:

**–ß–µ—Ä–µ–∑ Android Studio:**
1. **Tools ‚Üí SDK Manager**
2. –í–∫–ª–∞–¥–∫–∞ **SDK Tools**
3. –ù–∞–π–¥–∏—Ç–µ **CMake**
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ä—Å–∏—é **3.18.1** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞)
5. –ù–∞–∂–º–∏—Ç–µ **Apply**

**–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:**
```bash
# –ò—Å–ø–æ–ª—å–∑—É—è sdkmanager
sdkmanager "cmake;3.18.1"
```

**–ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –≤ `local.properties`:**
```properties
cmake.dir=/path/to/cmake/3.18.1
```

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—É—é –≤–µ—Ä—Å–∏—é CMake (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–£–±—Ä–∞—Ç—å `version` –∏–∑ `app/build.gradle` - Android Studio –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—É—é –≤–µ—Ä—Å–∏—é.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å CMake 3.18.1 —á–µ—Ä–µ–∑ SDK Manager

1. Android Studio ‚Üí Tools ‚Üí SDK Manager
2. SDK Tools ‚Üí CMake ‚Üí –≤—ã–±—Ä–∞—Ç—å 3.18.1

### –í–∞—Ä–∏–∞–Ω—Ç 3: –û–±–Ω–æ–≤–∏—Ç—å CMakeLists.txt –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

–ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è CMake –∫—Ä–∏—Ç–∏—á–Ω–∞, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –≤ `CMakeLists.txt`:
```cmake
cmake_minimum_required(VERSION 3.18.1)  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

1. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```
   File ‚Üí Sync Project with Gradle Files
   ```

2. **–û—á–∏—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
   ```
   Build ‚Üí Clean Project
   ```

3. **–ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:**
   ```
   Build ‚Üí Rebuild Project
   ```

## üîç –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

‚úÖ –£–±—Ä–∞–Ω–∞ –∂–µ—Å—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è CMake –∏–∑ `app/build.gradle`
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Ñ–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ (cFlags –≤–º–µ—Å—Ç–æ cppFlags)
‚úÖ –£–±—Ä–∞–Ω –∞—Ä–≥—É–º–µ–Ω—Ç ANDROID_STL (–º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)
‚úÖ –°–æ–∑–¥–∞–Ω `local.properties` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É—Ç–µ–π

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CMake –≤ SDK Manager:**
   - Tools ‚Üí SDK Manager ‚Üí SDK Tools ‚Üí CMake

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç–∏ –≤ local.properties:**
   ```properties
   sdk.dir=/Users/YOUR_USERNAME/Library/Android/sdk
   cmake.dir=/Users/YOUR_USERNAME/Library/Android/sdk/cmake/4.1.2
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é CMake:**
   ```bash
   cmake --version
   ```

4. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à Gradle:**
   ```bash
   ./gradlew clean
   rm -rf .gradle
   ```

## ‚úÖ –ì–æ—Ç–æ–≤–æ

–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω —Ç–µ–ø–µ—Ä—å —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ CMake!


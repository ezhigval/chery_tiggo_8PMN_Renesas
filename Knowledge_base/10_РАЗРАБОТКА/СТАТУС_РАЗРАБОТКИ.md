# –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ Tiggo Bridge Service

**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ

---

## ‚úÖ –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ Android –ø—Ä–æ–µ–∫—Ç–∞
   - `app/build.gradle` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Gradle
   - `app/src/main/AndroidManifest.xml` - –º–∞–Ω–∏—Ñ–µ—Å—Ç —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
   - `settings.gradle` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
   - `gradle.properties` - —Å–≤–æ–π—Å—Ç–≤–∞ Gradle
   - `proguard-rules.pro` - –ø—Ä–∞–≤–∏–ª–∞ ProGuard

2. ‚úÖ –°–æ–∑–¥–∞–Ω—ã –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã:
   - `BridgeService.java` - –≥–ª–∞–≤–Ω—ã–π —Å–µ—Ä–≤–∏—Å (Foreground Service)
   - `ConfigManager.java` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
   - `BootReceiver.java` - –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã
   - `MainActivity.java` - –≥–ª–∞–≤–Ω–∞—è Activity
   - `SettingsActivity.java` - Activity –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∑–∞–≥–ª—É—à–∫–∞)
   - `LogsActivity.java` - Activity –ª–æ–≥–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞)

3. ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:
   - `NavigationMonitor.java` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–∑–∞–≥–ª—É—à–∫–∞)
   - `NavigationData.java` - –∫–ª–∞—Å—Å –¥–∞–Ω–Ω—ã—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

4. ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
   - `Logger.java` - —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∑–∞–ø–∏—Å—å—é –≤ —Ñ–∞–π–ª

5. ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç:
   - `Constants.java` - –≤—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è Broadcast Intent (–Ω–∞ –æ—Å–Ω–æ–≤–µ GoNavi.java –∏–∑ NS.apk)

6. ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Ä–µ—Å—É—Ä—Å—ã:
   - `strings.xml` - —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Ä–µ—Å—É—Ä—Å—ã
   - `activity_main.xml` - layout –≥–ª–∞–≤–Ω–æ–π Activity
   - `activity_settings.xml` - layout –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–∑–∞–≥–ª—É—à–∫–∞)
   - `activity_logs.xml` - layout –ª–æ–≥–æ–≤ (–∑–∞–≥–ª—É—à–∫–∞)
   - `accessibility_service_config.xml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Accessibility Service

---

## ‚è≥ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞
2. üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞ (–≠—Ç–∞–ø 2) - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
3. üîÑ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω—É—é –ø–∞–Ω–µ–ª—å (–≠—Ç–∞–ø 3) - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
4. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–≠—Ç–∞–ø 4)
5. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ª–æ–≥–æ–≤ (–≠—Ç–∞–ø 5)

---

## üîÑ –≠—Ç–∞–ø 2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞ (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. ‚úÖ –°–æ–∑–¥–∞–Ω `DataExtractor.java` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Guidance/Windshield
2. ‚úÖ –°–æ–∑–¥–∞–Ω `NavigationMonitor.java` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
4. ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Yandex MapKit SDK

### TODO:

1. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Yandex MapKit SDK (—á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
2. ‚è≥ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ —Ä–µ—Ñ–ª–µ–∫—Å–∏—é
3. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

---

## üîÑ –≠—Ç–∞–ø 3: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω—É—é –ø–∞–Ω–µ–ª—å (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)

### –í—ã–ø–æ–ª–Ω–µ–Ω–æ:

1. ‚úÖ –°–æ–∑–¥–∞–Ω `SystemSender.java` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Broadcast Intent
2. ‚úÖ –°–æ–∑–¥–∞–Ω `StatusBarRenderer.java` - –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å –±–∞—Ä–∞
3. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ `BridgeService` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —á–∞—Å—Ç–æ—Ç–æ–π 1 –ì—Ü
4. ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫–∞:
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç –º–∞—Ä—à—Ä—É—Ç–∞ (–¥–ª—è QNX)
   - –°—Ç–∞—Ç—É—Å –±–∞—Ä–∞ (bitmap)
   - –î–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–µ–∫—Ü–∏–∏ (HUD)
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏

### TODO:

1. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö —Å —Å–∏—Å—Ç–µ–º–æ–π

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
TiggoBridgeService/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ build.gradle
‚îÇ   ‚îî‚îÄ‚îÄ src/main/
‚îÇ       ‚îú‚îÄ‚îÄ AndroidManifest.xml
‚îÇ       ‚îú‚îÄ‚îÄ java/com/desaysv/tiggo/bridge/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ core/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BridgeService.java ‚úÖ
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ConfigManager.java ‚úÖ
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BootReceiver.java ‚úÖ
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ navigation/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NavigationMonitor.java ‚úÖ (–∑–∞–≥–ª—É—à–∫–∞)
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NavigationData.java ‚úÖ
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ accessibility/
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NavigationAccessibilityService.java ‚úÖ (–∑–∞–≥–ª—É—à–∫–∞)
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MainActivity.java ‚úÖ
‚îÇ       ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SettingsActivity.java ‚úÖ (–∑–∞–≥–ª—É—à–∫–∞)
‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LogsActivity.java ‚úÖ (–∑–∞–≥–ª—É—à–∫–∞)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ Logger.java ‚úÖ
‚îÇ       ‚îî‚îÄ‚îÄ res/
‚îÇ           ‚îú‚îÄ‚îÄ layout/
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ activity_main.xml ‚úÖ
‚îÇ           ‚îÇ   ‚îú‚îÄ‚îÄ activity_settings.xml ‚úÖ
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ activity_logs.xml ‚úÖ
‚îÇ           ‚îú‚îÄ‚îÄ values/
‚îÇ           ‚îÇ   ‚îî‚îÄ‚îÄ strings.xml ‚úÖ
‚îÇ           ‚îî‚îÄ‚îÄ xml/
‚îÇ               ‚îî‚îÄ‚îÄ accessibility_service_config.xml ‚úÖ
‚îú‚îÄ‚îÄ build.gradle ‚úÖ
‚îú‚îÄ‚îÄ settings.gradle ‚úÖ
‚îî‚îÄ‚îÄ gradle.properties ‚úÖ
```

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:

- [–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](../../–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/plans/03_–ü–õ–ê–ù_–†–ê–ó–†–ê–ë–û–¢–ö–ò_–ú–û–°–¢_–°–ï–†–í–ò–°–ê.md)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ](../../–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è/–¢–ï–•–ù–ò–ß–ï–°–ö–û–ï_–ó–ê–î–ê–ù–ò–ï.md)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024


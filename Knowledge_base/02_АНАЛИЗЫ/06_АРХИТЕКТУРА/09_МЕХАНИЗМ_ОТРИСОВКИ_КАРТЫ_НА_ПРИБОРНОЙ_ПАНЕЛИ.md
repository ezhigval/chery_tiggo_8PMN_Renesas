# –ú–µ—Ö–∞–Ω–∏–∑–º –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∫–∞—Ä—Ç—ã –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏

**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ

---

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏](#–ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞-–∑–∞–¥–∞—á–∏)
2. [–ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã](#–∞–Ω–∞–ª–∏–∑-—Å–∏—Å—Ç–µ–º—ã)
3. [–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏](#–≤–∞—Ä–∏–∞–Ω—Ç—ã-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
4. [–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è](#—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)
5. [–î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è](#–¥–µ—Ç–∞–ª—å–Ω–∞—è-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

---

## üéØ –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏

**–í–æ–ø—Ä–æ—Å:** –ö—Ç–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∫–∞—Ä—Ç—É –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏ - –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ QNX —Å–∏—Å—Ç–µ–º–∞?

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –Ω–∞–ø—Ä—è–º—É—é –∫ –∫–∞—Ä—Ç–µ –Ω–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
- –ö–∞—Ä—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ü—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –∫–∞—Ä—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ –ì–£ –∏ –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏
- –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–∞–≤–∏–≥–∞—Ç–æ—Ä –º–æ–∂–Ω–æ —Å–≤–µ—Ä–Ω—É—Ç—å - –≤—Å–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## üîç –ê–Ω–∞–ª–∏–∑ —Å–∏—Å—Ç–µ–º—ã

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Android —Å–∏—Å—Ç–µ–º–∞                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Bridge Service                     ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö              ‚îÇ
‚îÇ  ‚îÇ   ‚îú‚îÄ‚îÄ –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã (?)            ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö                ‚îÇ
‚îÇ  ‚îÇ                                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ SVMeterInteraction                 ‚îÇ
‚îÇ      ‚îú‚îÄ‚îÄ –ü–æ–ª—É—á–µ–Ω–∏–µ Broadcast Intent     ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ QNX                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚îÇ System Properties / Unix Socket / Shared Memory
               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  QNX —Å–∏—Å—Ç–µ–º–∞                            ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö                   ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ä—Ç—ã (?)                ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò–∑–≤–µ—Å—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã

1. **SVMeterInteraction:**
   - –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ Broadcast Intent: `turbodog.navigation.system.message`
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ QNX —á–µ—Ä–µ–∑ System Properties / Unix Socket / Shared Memory
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—á–µ–Ω—å —Ä–∞–Ω–æ (directBootAware, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 900)

2. **QNX —Å–∏—Å—Ç–µ–º–∞:**
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏
   - –ò–º–µ–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç SVMeterInteraction

3. **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
   - Broadcast Intent —Å –ø–æ–ª—è–º–∏: CODE, TURN_TYPE, TURN_DIST, REMAINING_DIST, –∏ —Ç.–¥.
   - –í–æ–∑–º–æ–∂–Ω–æ, MAP_IMAGE (bitmap) –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∞

---

## ü§î –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É

**–ú–µ—Ö–∞–Ω–∏–∑–º:**
1. Bridge Service –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
2. Bridge Service –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∞ —á–µ—Ä–µ–∑ Broadcast Intent
3. SVMeterInteraction –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ QNX
4. QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ QNX –∏–º–µ–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä
- ‚úÖ –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Android —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ø—Ä–∏–±–æ—Ä–Ω–æ–π –ø–∞–Ω–µ–ª–∏
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ bitmap

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –¥–ª—è QNX
- ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```java
Intent intent = new Intent("turbodog.navigation.system.message");
intent.putExtra("CODE", 200);
intent.putExtra("ROUTE_COORDINATES", routeCoordinates); // –ú–∞—Å—Å–∏–≤ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
intent.putExtra("CURRENT_POSITION", currentPosition);   // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
intent.putExtra("BEARING", bearing);                    // –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
sendBroadcast(intent);
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É

**–ú–µ—Ö–∞–Ω–∏–∑–º:**
1. Bridge Service –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
2. Bridge Service –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é –∫–∞—Ä—Ç—É (MapRenderer)
3. Bridge Service –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç bitmap —á–µ—Ä–µ–∑ Broadcast Intent
4. SVMeterInteraction –ø–æ–ª—É—á–∞–µ—Ç bitmap –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ QNX
5. QNX –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥–æ—Ç–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–æ–π
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–∏–ª—å –∫–∞—Ä—Ç—ã
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ–æ—Ä–º–∞—Ç–∞ QNX

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- ‚ùå –ë–æ–ª—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ Android —Å–∏—Å—Ç–µ–º—É
- ‚ùå –ù—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –±–æ–ª—å—à–∏–µ bitmap
- ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–µ–µ

**–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö:**
```java
Intent intent = new Intent("turbodog.navigation.system.message");
intent.putExtra("CODE", 200);
intent.putExtra("MAP_IMAGE", bitmapToByteArray(mapBitmap)); // Bitmap –∫–∞—Ä—Ç—ã
sendBroadcast(intent);
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥: **–ì–∏–±—Ä–∏–¥–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç**

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**

1. **–î–ª—è –∫–∞—Ä—Ç—ã:** QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
   - –ë–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ
   - –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å
   - –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞

2. **–î–ª—è —Å—Ç–∞—Ç—É—Å –±–∞—Ä–∞:** –ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç
   - –°—Ç–∞—Ç—É—Å –±–∞—Ä –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
   - –ù—É–∂–Ω–∞ –≥–∏–±–∫–æ—Å—Ç—å –≤ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–∏–ª—å

3. **–î–ª—è –ø—Ä–æ–µ–∫—Ü–∏–∏:** QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ–µ–∫—Ü–∏—è —É–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π
   - –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ (—Å—Ç—Ä–µ–ª–æ—á–∫–∞, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)

---

## üèóÔ∏è –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞

```java
public class DataExtractor {
    private Guidance guidance;
    private Windshield windshield;
    
    public NavigationData extractData() {
        NavigationData data = new NavigationData();
        
        // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
        Location location = guidance.getLocation();
        data.setCurrentPosition(location.getLatitude(), location.getLongitude());
        data.setBearing(location.getBearing());
        
        // –ú–∞—Ä—à—Ä—É—Ç (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
        DrivingRoute route = guidance.getCurrentRoute();
        if (route != null) {
            Polyline geometry = route.getGeometry();
            List<Point> points = geometry.getPoints();
            data.setRouteCoordinates(points);
        }
        
        // –ë–ª–∏–∂–∞–π—à–∏–π –º–∞–Ω–µ–≤—Ä
        List<UpcomingManoeuvre> manoeuvres = windshield.getManoeuvres();
        if (!manoeuvres.isEmpty()) {
            UpcomingManoeuvre nextManoeuvre = manoeuvres.get(0);
            RoutePosition position = nextManoeuvre.getPosition();
            Annotation annotation = nextManoeuvre.getAnnotation();
            
            data.setNextTurnType(mapActionToTurnType(annotation.getAction()));
            data.setNextTurnDistance(position.distanceToFinish());
            data.setNextTurnPosition(position.getPoint());
        }
        
        // –û—Å—Ç–∞–≤—à–µ–µ—Å—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –∏ –≤—Ä–µ–º—è
        RoutePosition currentPosition = guidance.getCurrentRoute().getPosition();
        data.setRemainingDistance(currentPosition.distanceToFinish());
        data.setRemainingTime(currentPosition.timeToFinish());
        
        // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
        int speedLimit = guidance.getSpeedLimit();
        data.setSpeedLimit(speedLimit);
        
        return data;
    }
}
```

---

### 2. –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω—É—é –ø–∞–Ω–µ–ª—å

```java
public class SystemSender {
    public void sendNavigationData(NavigationData data) {
        Intent intent = new Intent("turbodog.navigation.system.message");
        
        // –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        intent.putExtra("CODE", 200);
        intent.putExtra("DATA", 0);
        
        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –º–∞—Ä—à—Ä—É—Ç–∞ (–¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ QNX)
        if (data.getRouteCoordinates() != null) {
            intent.putExtra("ROUTE_COORDINATES", serializeCoordinates(data.getRouteCoordinates()));
        }
        
        // –¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è
        intent.putExtra("CURRENT_LAT", data.getCurrentPosition().latitude);
        intent.putExtra("CURRENT_LON", data.getCurrentPosition().longitude);
        intent.putExtra("BEARING", data.getBearing());
        
        // –ú–∞–Ω–µ–≤—Ä
        intent.putExtra("TURN_TYPE", data.getNextTurnType());
        intent.putExtra("TURN_DIST", data.getNextTurnDistance());
        intent.putExtra("TURN_LAT", data.getNextTurnPosition().latitude);
        intent.putExtra("TURN_LON", data.getNextTurnPosition().longitude);
        
        // –ú–∞—Ä—à—Ä—É—Ç
        intent.putExtra("REMAINING_DIST", data.getRemainingDistance());
        intent.putExtra("REMAINING_TIME", data.getRemainingTime());
        
        // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏
        intent.putExtra("SPEED_LIMIT", data.getSpeedLimit());
        
        sendBroadcast(intent);
    }
    
    public void sendStatusBar(StatusBarData statusBar) {
        // –°—Ç–∞—Ç—É—Å –±–∞—Ä –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞—à–∏–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
        // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≥–æ—Ç–æ–≤—ã–π bitmap
        Intent intent = new Intent("turbodog.navigation.system.message");
        intent.putExtra("CODE", 201); // –ö–æ–¥ –¥–ª—è —Å—Ç–∞—Ç—É—Å –±–∞—Ä–∞
        intent.putExtra("STATUS_BAR_IMAGE", bitmapToByteArray(statusBar.getBitmap()));
        intent.putExtra("STATUS_BAR_X", statusBar.getX());
        intent.putExtra("STATUS_BAR_Y", statusBar.getY());
        sendBroadcast(intent);
    }
    
    public void sendProjectionData(ProjectionData projection) {
        // –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ü–∏–∏ (QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç)
        Intent intent = new Intent("turbodog.navigation.system.message");
        intent.putExtra("CODE", 202); // –ö–æ–¥ –¥–ª—è –ø—Ä–æ–µ–∫—Ü–∏–∏
        intent.putExtra("PROJECTION_TURN_TYPE", projection.getTurnType());
        intent.putExtra("PROJECTION_TURN_DIST", projection.getTurnDistance());
        intent.putExtra("PROJECTION_REMAINING_DIST", projection.getRemainingDistance());
        sendBroadcast(intent);
    }
}
```

---

### 3. –û—Ç—Ä–∏—Å–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å –±–∞—Ä–∞

```java
public class StatusBarRenderer {
    private static final int STATUS_BAR_WIDTH = 400;
    private static final int STATUS_BAR_HEIGHT = 60;
    
    public Bitmap renderStatusBar(StatusBarData data, DisplayConfig config) {
        Bitmap bitmap = Bitmap.createBitmap(
            (int)(STATUS_BAR_WIDTH * config.getScale()),
            (int)(STATUS_BAR_HEIGHT * config.getScale()),
            Bitmap.Config.ARGB_8888
        );
        Canvas canvas = new Canvas(bitmap);
        
        // –§–æ–Ω
        Paint bgPaint = new Paint();
        bgPaint.setColor(Color.argb(200, 0, 0, 0));
        canvas.drawRect(0, 0, bitmap.getWidth(), bitmap.getHeight(), bgPaint);
        
        // –¢–µ–∫—Å—Ç
        Paint textPaint = new Paint();
        textPaint.setColor(Color.WHITE);
        textPaint.setTextSize(24 * config.getTextScale());
        textPaint.setTextAlign(Paint.Align.LEFT);
        
        // –ö–∏–ª–æ–º–µ—Ç—Ä—ã
        String distance = formatDistance(data.getRemainingDistance());
        canvas.drawText(distance, 10, 30, textPaint);
        
        // –í—Ä–µ–º—è –≤ –ø—É—Ç–∏
        String time = formatTime(data.getRemainingTime());
        canvas.drawText(time, 150, 30, textPaint);
        
        // –í—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è
        String arriveTime = formatArriveTime(data.getArriveTime());
        canvas.drawText(arriveTime, 300, 30, textPaint);
        
        return bitmap;
    }
}
```

---

### 4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –∏ —Ä–∞–±–æ—Ç–∞ –≤ —Ñ–æ–Ω–µ

```java
public class BridgeService extends Service {
    private NavigationMonitor navigationMonitor;
    private boolean isNavigationActive = false;
    
    @Override
    public void onCreate() {
        super.onCreate();
        
        // –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ (–Ω–µ–∑–∞–º–µ—Ç–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
        startForeground(NOTIFICATION_ID, createMinimalNotification());
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        navigationMonitor = new NavigationMonitor(this);
        navigationMonitor.setNavigationStateListener(new NavigationStateListener() {
            @Override
            public void onRouteBuilt() {
                // –ú–∞—Ä—à—Ä—É—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω - –Ω–∞—á–∏–Ω–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö
                isNavigationActive = true;
                startSendingData();
            }
            
            @Override
            public void onRouteFinished() {
                // –ú–∞—Ä—à—Ä—É—Ç –∑–∞–≤–µ—Ä—à–µ–Ω - –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É
                isNavigationActive = false;
                stopSendingData();
            }
        });
        
        navigationMonitor.start();
    }
    
    private void startSendingData() {
        // –ù–∞—á–∏–Ω–∞–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö —Å —á–∞—Å—Ç–æ—Ç–æ–π 1 –ì—Ü
        Handler handler = new Handler();
        Runnable sendDataTask = new Runnable() {
            @Override
            public void run() {
                if (isNavigationActive) {
                    NavigationData data = navigationMonitor.getCurrentData();
                    if (data != null) {
                        systemSender.sendNavigationData(data);
                        statusBarRenderer.renderAndSend(data);
                        projectionSender.sendProjectionData(data);
                    }
                    handler.postDelayed(this, 1000); // 1 –ì—Ü
                }
            }
        };
        handler.post(sendDataTask);
    }
}
```

---

## üìã –í—ã–≤–æ–¥—ã

1. **QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–∞—Ä—Ç—É** –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º–∞—Ä—à—Ä—É—Ç–∞
2. **–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –±–∞—Ä** –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç bitmap
3. **QNX –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ü–∏—é** –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ –º–∞–Ω–µ–≤—Ä–µ
4. **–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–∏ –º–∞—Ä—à—Ä—É—Ç–∞
5. **–ù–∞–≤–∏–≥–∞—Ç–æ—Ä –º–æ–∂–Ω–æ —Å–≤–µ—Ä–Ω—É—Ç—å** - –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ](../–¢–ï–•–ù–ò–ß–ï–°–ö–û–ï_–ó–ê–î–ê–ù–ò–ï.md)
- [–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ—Å—Ç-—Å–µ—Ä–≤–∏—Å–∞](../plans/03_–ü–õ–ê–ù_–†–ê–ó–†–ê–ë–û–¢–ö–ò_–ú–û–°–¢_–°–ï–†–í–ò–°–ê.md)
- [–ê–Ω–∞–ª–∏–∑ SVMapService –∏ SVMeterInteraction](03_–ê–ù–ê–õ–ò–ó_SVMAPSERVICE_–ò_SVMETERINTERACTION.md)

---

**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ


# –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ NS.apk - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Activity

## üìä –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–§–∞–π–ª:** `CHERY Tiggo 8 Pro Max New _ programs\NS.apk`  
**–†–∞–∑–º–µ—Ä:** 5.85 MB (5,993,199 bytes)  
**–ü–∞–∫–µ—Ç:** `com.example.navistart`  
**–í–µ—Ä—Å–∏—è:** 1.0 (versionCode: 1)  
**API Level:** 34 (Android 14)  
**–ì–ª–∞–≤–Ω–∞—è Activity:** `com.example.navistart.MainActivity`

---

## üîë –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:

1. **`android.permission.QUERY_ALL_PACKAGES`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –í–°–ï–• —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –≤—ã–±–æ—Ä–∞ Activity
   - **–í–ê–ñ–ù–û:** –≠—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

2. **`android.permission.SYSTEM_ALERT_WINDOW`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–∫–æ–Ω –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –í–æ–∑–º–æ–∂–Ω–æ –¥–ª—è overlay –∏–ª–∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
   - **–¢—Ä–µ–±—É–µ—Ç:** –†—É—á–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

3. **`android.permission.REORDER_TASKS`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∑–∞–¥–∞—á (–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏)
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ Activity –¥—Ä—É–≥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω
   - **–í–ê–ñ–ù–û:** –°–∏—Å—Ç–µ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

4. **`android.permission.RECEIVE_BOOT_COMPLETED`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

5. **`android.permission.FOREGROUND_SERVICE`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫ foreground —Å–µ—Ä–≤–∏—Å–∞
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –í–æ–∑–º–æ–∂–Ω–æ —Ñ–æ–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞/–∑–∞–ø—É—Å–∫–∞

6. **`android.permission.READ_PHONE_STATE`**
   - **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ß—Ç–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
   - **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –í–æ–∑–º–æ–∂–Ω–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

### –î—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
- `INTERNET` - –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
- `ACCESS_NETWORK_STATE` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ç–∏
- `WAKE_LOCK` - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑–∞—Å—ã–ø–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–∞
- `DYNAMIC_RECEIVER_NOT_EXPORTED_PERMISSION` - –∫–∞—Å—Ç–æ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ APK

### DEX —Ñ–∞–π–ª—ã (4 —Ñ–∞–π–ª–∞ - –º–Ω–æ–≥–æ–¥–µ–∫—Å):
- `classes.dex` - 10.0 MB (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥)
- `classes2.dex` - 533 KB
- `classes3.dex` - 4.5 KB
- `classes4.dex` - 14.6 KB

**–í—ã–≤–æ–¥:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ –±–∏–±–ª–∏–æ—Ç–µ–∫ (AndroidX, Material Design)

### –†–µ—Å—É—Ä—Å—ã:
- **811 —Ñ–∞–π–ª–æ–≤ —Ä–µ—Å—É—Ä—Å–æ–≤** (layouts, drawables, colors, etc.)
- **117 layout —Ñ–∞–π–ª–æ–≤** - –º–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–æ–≤/–¥–∏–∞–ª–æ–≥–æ–≤
- **0 –Ω–∞—Ç–∏–≤–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫** - —á–∏—Å—Ç–æ Java/Kotlin –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **0 assets** - –Ω–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### Layout —Ñ–∞–π–ª—ã:
- `activity_main.xml` - –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- `activity_main3.xml` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- `content_main.xml` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- `content_main3.xml` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
- `custom_dialog.xml` - –∫–∞—Å—Ç–æ–º–Ω—ã–π –¥–∏–∞–ª–æ–≥

---

## üí° –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ)

### –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:

**NS.apk –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –ª—é–±—É—é Activity –ª—é–±–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ.**

### –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã:

#### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```java
// –ò—Å–ø–æ–ª—å–∑—É—è QUERY_ALL_PACKAGES
PackageManager pm = getPackageManager();
List<ApplicationInfo> apps = pm.getInstalledApplications(PackageManager.GET_META_DATA);
```

#### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ Activity –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```java
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö Activity –∏–∑ –ø–∞–∫–µ—Ç–∞
PackageInfo packageInfo = pm.getPackageInfo(packageName, PackageManager.GET_ACTIVITIES);
ActivityInfo[] activities = packageInfo.activities;
```

#### 3. –ó–∞–ø—É—Å–∫ Activity
```java
// –ó–∞–ø—É—Å–∫ Activity –¥—Ä—É–≥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
Intent intent = new Intent();
intent.setComponent(new ComponentName(packageName, activityName));
intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
startActivity(intent);
```

#### 4. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω (REORDER_TASKS)
```java
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ActivityManager –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
ActivityManager am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
am.moveTaskToFront(taskId, ActivityManager.MOVE_TASK_WITH_HOME);
```

---

## üéØ –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### NS.apk –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è Bridge Service:

#### 1. **–ú–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø—É—Å–∫–∞ Activity**
- NS.apk —É–∂–µ —É–º–µ–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å Activity –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–º–æ–∂–µ—Ç –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### 2. **QUERY_ALL_PACKAGES —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ**
- –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö
- –ù—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç—å –¥–ª—è Bridge Service

#### 3. **REORDER_TASKS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ**
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –≤—ã–≤–æ–¥–∞ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ü–∏—é
- –°–∏—Å—Ç–µ–º–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏

#### 4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**
- NS.apk —Å–¥–µ–ª–∞–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ
- –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ —à–∞–±–ª–æ–Ω

---

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### MainActivity (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ):

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
1. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
2. –í—ã–±–æ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ Activity –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. –ó–∞–ø—É—Å–∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π Activity

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–∏–∑ content_main.xml):**
- `EditText` - –≤–≤–æ–¥ –∏–º–µ–Ω–∏ –ø–∞–∫–µ—Ç–∞ –∏–ª–∏ Activity
- `Button` - –∫–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞
- `Switch` - –≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –æ–ø—Ü–∏–π
- `TextView` - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:

1. **–ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (RECEIVE_BOOT_COMPLETED)**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

2. **Foreground Service (FOREGROUND_SERVICE)**
   - –í–æ–∑–º–æ–∂–Ω–æ —Ñ–æ–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ Activity

3. **System Overlay (SYSTEM_ALERT_WINDOW)**
   - –í–æ–∑–º–æ–∂–Ω–æ overlay –æ–∫–Ω–æ
   - –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏—è–º
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---

## üõ†Ô∏è –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NS.apk –∫–∞–∫ –æ—Å–Ω–æ–≤—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è NS.apk

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –£–∂–µ –µ—Å—Ç—å —Ä–∞–±–æ—á–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø—É—Å–∫–∞ Activity
- –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –õ–µ–≥–∫–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù—É–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –≤–µ—Å—å –∫–æ–¥
- –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–æ–∂–Ω–µ–µ —á–µ–º —Å–æ–∑–¥–∞—Ç—å —Å –Ω—É–ª—è

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞/—à–∞–±–ª–æ–Ω

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –í–∑—è—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —á–∞—Å—Ç–∏
- –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π Bridge Service –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–∏–∫–∏
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –∫–æ–¥
- –ë–æ–ª—å—à–µ —Ä–∞–±–æ—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
NS.apk (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)
    ‚Üì
–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è Bridge Service
    ‚Üì
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π:
  - –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
  - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É (CAN/QNX)
```

---

## üìã –ü–ª–∞–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è NS.apk

### –≠—Ç–∞–ø 1: –î–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∏–∑—É—á–µ–Ω–∏–µ

1. **–î–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å DEX —Ñ–∞–π–ª—ã**
   ```bash
   jadx -d NS_apk_analysis/sources NS_apk_analysis/classes.dex
   jadx -d NS_apk_analysis/sources NS_apk_analysis/classes2.dex
   # –∏ —Ç.–¥.
   ```

2. **–ò–∑—É—á–∏—Ç—å MainActivity**
   - –ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - –ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ Activity
   - –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç Activity

3. **–ò–∑—É—á–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã (–µ—Å–ª–∏ –µ—Å—Ç—å)**
   - Foreground Service
   - Broadcast Receivers
   - –î—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–≥–æ –∫–æ–¥–∞

**–ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–≤–ª–µ—á—å:**

1. **–ö–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**
   ```java
   // –ö–ª–∞—Å—Å/–º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
   ```

2. **–ö–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è Activity**
   ```java
   // –ö–ª–∞—Å—Å/–º–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è Activity –∏–∑ –ø–∞–∫–µ—Ç–∞
   ```

3. **–ö–æ–¥ –∑–∞–ø—É—Å–∫–∞ Activity**
   ```java
   // –ö–ª–∞—Å—Å/–º–µ—Ç–æ–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Activity
   ```

4. **–ö–æ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∑–∞–¥–∞—á**
   ```java
   // –ö–æ–¥ –¥–ª—è REORDER_TASKS
   ```

### –≠—Ç–∞–ø 3: –ê–¥–∞–ø—Ç–∞—Ü–∏—è –¥–ª—è Bridge Service

**–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

1. **–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π**
   - Broadcast Receiver –¥–ª—è —Å–æ–±—ã—Ç–∏–π –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**
   - –ê–¥–∞–ø—Ç–µ—Ä –¥–∞–Ω–Ω—ã—Ö (–Ø–Ω–¥–µ–∫—Å ‚Üí TurboDog —Ñ–æ—Ä–º–∞—Ç)
   - –ü–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

3. **–î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ —Å–∏—Å—Ç–µ–º—É**
   - Broadcast Intent –≤ SVMeterInteraction
   - Shared Memory –¥–ª—è QNX
   - CAN-—à–∏–Ω–∞ —á–µ—Ä–µ–∑ –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥

4. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ü–∏—é**
   - MediaProjection API
   - Presentation API
   - System Overlay

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ó–∞–ø—É—Å–∫ Activity –¥—Ä—É–≥–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```java
public void launchActivity(String packageName, String activityName) {
    try {
        Intent intent = new Intent();
        intent.setComponent(new ComponentName(packageName, activityName));
        
        // –§–ª–∞–≥–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        intent.addFlags(Intent.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED);
        
        // –ó–∞–ø—É—Å–∫
        startActivity(intent);
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
        ActivityManager am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
        // –ü–æ–ª—É—á–∏—Ç—å taskId –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å
    } catch (Exception e) {
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
    }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ Activity:

```java
public List<ActivityInfo> getActivities(String packageName) {
    PackageManager pm = getPackageManager();
    try {
        PackageInfo packageInfo = pm.getPackageInfo(
            packageName, 
            PackageManager.GET_ACTIVITIES
        );
        return Arrays.asList(packageInfo.activities);
    } catch (PackageManager.NameNotFoundException e) {
        return Collections.emptyList();
    }
}
```

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω:

```java
public void bringToFront(String packageName) {
    ActivityManager am = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);
    List<ActivityManager.RunningTaskInfo> tasks = am.getRunningTasks(100);
    
    for (ActivityManager.RunningTaskInfo task : tasks) {
        if (task.topActivity.getPackageName().equals(packageName)) {
            am.moveTaskToFront(
                task.id, 
                ActivityManager.MOVE_TASK_WITH_HOME
            );
            break;
        }
    }
}
```

---

## üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ω–∞—à–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ NS.apk –¥–ª—è Bridge Service:

#### 1. –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–∏–∑ NS.apk):
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ Activity
- ‚úÖ –ó–∞–ø—É—Å–∫ Activity
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω

#### 2. –î–æ–±–∞–≤–ª—è–µ–º –¥–ª—è Bridge Service:
- üîÑ –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞
- üîÑ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- üîÑ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É
- üîÑ –ü—Ä–æ–µ–∫—Ü–∏—è –Ω–∞ –ø—Ä–∏–±–æ—Ä–Ω—É—é –ø–∞–Ω–µ–ª—å

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Bridge Service –Ω–∞ –æ—Å–Ω–æ–≤–µ NS.apk:

```
NS.apk (–±–∞–∑–æ–≤–∞—è –ª–æ–≥–∏–∫–∞)
    ‚Üì
Bridge Service (–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π)
    ‚îú‚îÄ‚îÄ –ó–∞–ø—É—Å–∫ –Ø–Ω–¥–µ–∫—Å –ù–∞–≤–∏–≥–∞—Ç–æ—Ä–∞ (–∏–∑ NS.apk)
    ‚îú‚îÄ‚îÄ –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π (–Ω–æ–≤–æ–µ)
    ‚îú‚îÄ‚îÄ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–Ω–æ–≤–æ–µ)
    ‚îî‚îÄ‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É (–Ω–æ–≤–æ–µ)
```

---

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:

1. **–î–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å NS.apk**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å JADX
   - –î–µ–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ DEX —Ñ–∞–π–ª—ã
   - –ò–∑—É—á–∏—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

2. **–ù–∞–π—Ç–∏ –∫–ª—é—á–µ–≤—ã–µ –∫–ª–∞—Å—Å—ã**
   - MainActivity
   - –ö–ª–∞—Å—Å—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PackageManager
   - –ö–ª–∞—Å—Å—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Activity

3. **–ò–∑—É—á–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã**
   - –ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç Activity
   - –ö–∞–∫–∏–µ —Ñ–ª–∞–≥–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

### –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è:

1. –ò–∑–≤–ª–µ—á—å –∫–ª—é—á–µ–≤–æ–π –∫–æ–¥
2. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è Bridge Service
3. –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **QUERY_ALL_PACKAGES:** https://developer.android.com/reference/android/Manifest.permission#QUERY_ALL_PACKAGES
- **REORDER_TASKS:** https://developer.android.com/reference/android/Manifest.permission#REORDER_TASKS
- **PackageManager:** https://developer.android.com/reference/android/content/pm/PackageManager
- **ActivityManager:** https://developer.android.com/reference/android/app/ActivityManager

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

1. **NS.apk - –∏–¥–µ–∞–ª—å–Ω–∞—è –æ—Å–Ω–æ–≤–∞**
   - –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø—É—Å–∫–∞ Activity
   - –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - –õ–µ–≥–∫–æ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å

2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è**
   - QUERY_ALL_PACKAGES - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
   - REORDER_TASKS - –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–µ—Ä–µ–¥–Ω–∏–π –ø–ª–∞–Ω
   - SYSTEM_ALERT_WINDOW - –¥–ª—è overlay (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. **–ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã**
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ PackageManager
   - –ü–æ–ª—É—á–µ–Ω–∏–µ Activity —á–µ—Ä–µ–∑ PackageInfo
   - –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Intent —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏
   - –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ ActivityManager

4. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–ª—è Bridge Service**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞–ø—É—Å–∫–∞ Activity
   - –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π
   - –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   - –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –≤ —Å–∏—Å—Ç–µ–º—É

---

**–°—Ç–∞—Ç—É—Å:** –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–µ—Ä—à–µ–Ω, –≥–æ—Ç–æ–≤ –∫ –¥–µ–∫–æ–º–ø–∏–ª—è—Ü–∏–∏  
**–î–∞—Ç–∞:** 2024  
**–í–µ—Ä—Å–∏—è:** 1.0


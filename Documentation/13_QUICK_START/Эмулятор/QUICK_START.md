# Быстрый старт T18FL3 Emulator

## Установка

```bash
cd development/emulator
pip install -r requirements.txt
```

## Запуск

```bash
python main.py
```

## Первый запуск

1. **Проверьте пути к образам** в `gui/main_window.py`:
   - Убедитесь, что пути к образам правильные
   - По умолчанию: `../../update_extracted/payload/`

2. **Проверьте QEMU**:
   - Должен быть установлен `qemu-system-aarch64`
   - Путь по умолчанию: `/opt/homebrew/bin/qemu-system-aarch64`

3. **Запустите эмулятор**:
   - Нажмите "Start" в панели управления
   - Два экрана появятся через VNC (порты 5900 и 5901)

## Использование

### Два экрана

- **Display 1** (порт 5900): Instrument Cluster
- **Display 2** (порт 5901): Multimedia System

Подключитесь через VNC клиент:
```bash
vncviewer localhost:5900  # Display 1
vncviewer localhost:5901  # Display 2
```

### CAN-шина симуляция

Используйте панель управления для изменения:
- Скорости автомобиля
- Оборотов двигателя
- Температуры двигателя

Все изменения отправляются как CAN сообщения.

### Логирование

Все процессы логируются в реальном времени:
- Просмотр в окне Log Viewer
- Файлы в `logs/` директории
- JSON формат для машинной обработки

## Отладка

### Проблемы с запуском

1. **QEMU не найден**:
   - Установите QEMU: `brew install qemu`
   - Или укажите путь в `QEMUConfig`

2. **Образы не найдены**:
   - Проверьте пути в `main_window.py`
   - Убедитесь, что образы распакованы

3. **VNC не работает**:
   - Установите VNC клиент
   - Или используйте встроенный отображение (TODO)

### Логи

Проверьте логи в:
- `logs/t18fl3_emulator_*.log` - текстовый формат
- `logs/t18fl3_emulator_*.jsonl` - JSON формат

## Следующие шаги

1. Интеграция VNC клиента в GUI
2. Улучшение отображения двух экранов
3. Расширение CAN сообщений
4. Добавление GPS эмуляции
5. Оптимизация производительности


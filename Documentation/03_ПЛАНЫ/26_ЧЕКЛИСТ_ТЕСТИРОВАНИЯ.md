# –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è NotificationListenerService

## ‚úÖ –®–∞–≥ 1: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ –∏ –∑–∞–ø—É—â–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!

## üîç –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ NotificationListenerService

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –ª–æ–≥–∏:
```bash
adb logcat | grep -E "(NotificationListenerHelper|NotificationListenerService|BridgeService)"
```

**–û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:**
- `BridgeService: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ NotificationListenerService...`
- `NotificationListenerHelper: NotificationListenerService –≤–∫–ª—é—á–µ–Ω` (–∏–ª–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω)
- `BridgeService: ‚úì NotificationListenerService —É–∂–µ –≤–∫–ª—é—á–µ–Ω` (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ —Å–µ—Ä–≤–∏—Å –≤ —Å–∏—Å—Ç–µ–º–µ
adb shell dumpsys notification_listener | grep -i tiggo

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
adb shell settings get secure enabled_notification_listeners
```

## üöó –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Yandex Navigator** –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. **–ü–æ—Å—Ç—Ä–æ–π—Ç–µ –º–∞—Ä—à—Ä—É—Ç** (—É–∫–∞–∂–∏—Ç–µ —Ç–æ—á–∫—É –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è)
3. **–ù–∞—á–Ω–∏—Ç–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—é** (–Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å")

## üìä –®–∞–≥ 4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏:
```bash
adb logcat -c
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
adb logcat | grep -E "(NavNotificationListener|NotificationParser|BridgeService)"
```

### –û–∂–∏–¥–∞–µ–º—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:

```
NavNotificationListener: === –ü–æ–ª—É—á–µ–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç Yandex Navigator ===
NavNotificationListener: –î–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
NavNotificationListener:   title: –ü–æ–≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–æ —á–µ—Ä–µ–∑ 200 –º
NavNotificationListener:   text: –û—Å—Ç–∞–ª–æ—Å—å 5.2 –∫–º, 12 –º–∏–Ω
NotificationParser: –ü–∞—Ä—Å–∏–Ω–≥: title='–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–æ —á–µ—Ä–µ–∑ 200 –º', text='–û—Å—Ç–∞–ª–æ—Å—å 5.2 –∫–º, 12 –º–∏–Ω'
NotificationParser: –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∞–Ω–µ–≤—Ä–∞: 200–º
NotificationParser: –û—Å—Ç–∞–≤—à–µ–µ—Å—è —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 5200–º
NotificationParser: –û—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è: 720—Å–µ–∫
NavNotificationListener: ‚úì –î–∞–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏–∑–≤–ª–µ—á–µ–Ω—ã:
NavNotificationListener:   TURN_TYPE: 1
NavNotificationListener:   TURN_DIST: 200–º
NavNotificationListener:   REMAINING_DIST: 5200–º
NavNotificationListener:   REMAINING_TIME: 720—Å–µ–∫
NavNotificationListener: ‚úì –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ BridgeService
BridgeService: –ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –æ—Ç NotificationListener
BridgeService: ‚úì –î–∞–Ω–Ω—ã–µ –æ—Ç NotificationListener –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ QNX: TURN=1, DIST=200–º
```

## ‚úÖ –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ **Tiggo Bridge**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **–°—Ç–∞—Ç—É—Å**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
   - ‚úÖ –°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–µ–Ω (–∑–µ–ª–µ–Ω—ã–π)
   - ‚úÖ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä –∑–∞–ø—É—â–µ–Ω (—Å–∏–Ω–∏–π/–∑–µ–ª–µ–Ω—ã–π)
   - ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞ (–∑–µ–ª–µ–Ω—ã–π) - –µ—Å–ª–∏ –º–∞—Ä—à—Ä—É—Ç –∞–∫—Ç–∏–≤–µ–Ω
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **–õ–æ–≥–∏**
5. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### NotificationListenerService –Ω–µ –≤–∫–ª—é—á–µ–Ω

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ:**
```bash
# –í–∫–ª—é—á–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ ADB
adb shell settings put secure enabled_notification_listeners com.desaysv.tiggo.bridge/.notification.NavigationNotificationListener

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
adb shell settings get secure enabled_notification_listeners
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞:**
   - –ú–∞—Ä—à—Ä—É—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å—Ç—Ä–æ–µ–Ω
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω–∞
   - Yandex Navigator –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   adb logcat | grep NavNotificationListener
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤–∫–ª—é—á–µ–Ω –ª–∏ —Å–µ—Ä–≤–∏—Å:**
   ```bash
   adb shell dumpsys notification_listener | grep tiggo
   ```

### –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è

–ï—Å–ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è, –Ω–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–∞—Ä—Å—è—Ç—Å—è:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
adb logcat | grep -A 5 "–î–∞–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
```

–í–æ–∑–º–æ–∂–Ω–æ, —Ñ–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è. –ù—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä—Å–µ—Ä.

## üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ NotificationListenerService –≤–∫–ª—é—á–µ–Ω
2. ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è
3. ‚úÖ –î–∞–Ω–Ω—ã–µ –ø–∞—Ä—Å—è—Ç—Å—è
4. ‚úÖ –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ QNX

–¢–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–º –ì–£!


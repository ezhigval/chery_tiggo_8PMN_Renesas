# Альтернативы QEMU для эмуляции g6sh

## Проблема
QEMU virt machine не может напрямую маппить адреса g6sh (0xe6e80000) на PL011. Ядро ожидает SCIF на реальных адресах g6sh.

## Варианты решения

### 1. Кастомизация QEMU (сложно, но полноценно)
**Требует:** Компиляция QEMU из исходников

**Шаги:**
- Клонировать QEMU: `git clone https://git.qemu.org/git/qemu.git`
- Добавить новую машину `g6sh` в `hw/arm/`
- Реализовать SCIF устройства с правильными адресами
- Скомпилировать QEMU

**Плюсы:** Полная эмуляция g6sh
**Минусы:** Требует глубоких знаний QEMU, долгая разработка

### 2. Renode (рекомендуется для кастомных платформ)
**Что это:** Эмулятор для встроенных систем с поддержкой кастомных платформ

**Установка:**
```bash
brew install renode
# или
pip install renode
```

**Плюсы:**
- Легко добавлять кастомные устройства через Python/REPL
- Поддержка кастомных адресов и устройств
- Хорошая документация для встроенных систем

**Минусы:**
- Другая архитектура, нужно переписывать конфигурацию
- Может быть медленнее QEMU

### 3. QEMU с memory-mapped device (промежуточное решение)
**Подход:** Использовать QEMU device tree overlay для маппинга адресов

**Проблема:** QEMU не поддерживает динамический маппинг адресов без изменения исходников

### 4. Модификация ядра (альтернативный подход)
**Подход:** Изменить ядро, чтобы оно работало с virt machine

**Проблема:** Требует пересборки ядра, может сломать совместимость

## Рекомендация

**Краткосрочно:** Попробовать Renode - он специально создан для кастомных платформ и легко настраивается

**Долгосрочно:** Кастомизировать QEMU для полной поддержки g6sh

## Следующие шаги

1. Установить Renode и попробовать создать конфигурацию для g6sh
2. Или начать кастомизацию QEMU (если есть время и ресурсы)

